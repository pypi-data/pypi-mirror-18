<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ZODB - a native object database for Python &#8212; ZODB  documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/zodb.ico"/>
    <link rel="top" title="ZODB  documentation" href="#" />
    <link rel="next" title="Tutorial" href="tutorial.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="zodb-a-native-object-database-for-python">
<h1>ZODB - a native object database for Python<a class="headerlink" href="#zodb-a-native-object-database-for-python" title="Permalink to this headline">¶</a></h1>
<p>Because ZODB is an object database:</p>
<ul>
<li><p class="first">no separate language for database operations</p>
</li>
<li><p class="first">very little impact on your code to make objects persistent</p>
</li>
<li><p class="first">no database mapper that partially hides the database.</p>
<p>Using an object-relational mapping <strong>is not</strong> like using an object database.</p>
</li>
<li><p class="first">almost no seam between code and database.</p>
</li>
</ul>
<p>Check out the <a class="reference internal" href="tutorial.html"><span class="doc">Tutorial</span></a>!</p>
<div class="section" id="transactions">
<h2>Transactions<a class="headerlink" href="#transactions" title="Permalink to this headline">¶</a></h2>
<p>Make programs easier to reason about.</p>
<dl class="docutils">
<dt>Transactions are atomic</dt>
<dd><p class="first">Changes made in a transaction are either saved in their entirety or
not at all.</p>
<p class="last">This makes error handling a lot easier.  If you have an error, you
just abort the current transaction. You don&#8217;t have to worry about
undoing previous database changes.</p>
</dd>
<dt>Transactions provide isolation</dt>
<dd><p class="first">Transactions allow multiple logical threads (threads or processes)
to access databases and the database prevents the threads from
making conflicting changes.</p>
<p>This allows you to scale your application across multiple threads,
processes or machines without having to use low-level locking
primitives.</p>
<p class="last">You still have to deal with concurrency on some level. For
timestamp-based systems like ZODB, you may have to retry conflicting
transactions. With locking-based systems, you have to deal with
possible deadlocks.</p>
</dd>
<dt>Transactions affect multiple objects</dt>
<dd>Most NoSQL databases don&#8217;t have transactions. Their notions of
consistency are much weaker, typically applying to single documents.
There can be good reasons to use NoSQL databases for their extreme
scalability, but otherwise, think hard about giving up the benefits
of transactions.</dd>
</dl>
<p>ZODB transaction support:</p>
<ul>
<li><p class="first"><a class="reference external" href="https://en.wikipedia.org/wiki/ACID">ACID</a> transactions with
<a class="reference external" href="https://en.wikipedia.org/wiki/Snapshot_isolation">snapshot isolation</a></p>
</li>
<li><p class="first">Distributed transaction support using two-phase commit</p>
<p>This allows transactions to span multiple ZODB databases and to span
ZODB and non-ZODB databases.</p>
</li>
</ul>
</div>
<div class="section" id="other-notable-zodb-features">
<h2>Other notable ZODB features<a class="headerlink" href="#other-notable-zodb-features" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>Pluggable layered storage</dt>
<dd>ZODB has a pluggable storage architecture. This allows a variety of
storage schemes including memory-based, file-based and distributed
(client-server) storage.  Through storage layering, storage
components provide compression, encryption, replication and more.</dd>
<dt>Database caching with invalidation</dt>
<dd><p class="first">Every database connection has a cache that is a consistent partial database
replica. When accessing database objects, data already in the cache
is accessed without any database interactions.  When data are
modified, invalidations are sent to clients causing cached objects
to be invalidated. The next time invalidated objects are accessed
they&#8217;ll be loaded from the database.</p>
<p class="last">This makes caching extremely efficient, but provides some limit to
the number of clients.  The server has to send an invalidation
message to each client for each write.</p>
</dd>
<dt>Easy testing</dt>
<dd>ZODB provides in-memory storage implementations as well as
copy-on-write layered &#8220;demo storage&#8221; implementations that make testing
database-related code very easy.</dd>
<dt>Time travel</dt>
<dd>ZODB storages typically add new records on write and remove old
records on &#8220;pack&#8221; operations.  This allows limited time travel, back
to the last pack time.  This can be very useful for forensic
analysis.</dd>
<dt>Binary large objects, Blobs</dt>
<dd><p class="first">Many databases have these, but so does ZODB.</p>
<p class="last">In applications, Blobs are files, so they can be treated as files in
many ways. This can be especially useful when serving media.  If you
use AWS, there&#8217;s a Blob implementation that stores blobs in S3 and
caches them on disk.</p>
</dd>
</dl>
</div>
<div class="section" id="when-should-you-use-zodb">
<h2>When should you use ZODB?<a class="headerlink" href="#when-should-you-use-zodb" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>You want to focus on your application without writing a lot of database code.</dt>
<dd>Even if find you need to incorporate or switch to another database
later, you can use ZODB in the early part of your project to make
initial discovery and learning much quicker.</dd>
<dt>Your application has complex relationships and data structures.</dt>
<dd><p class="first">In relational databases you have to join tables to model complex
data structures and these joins can be tedious and expensive.  You
can mitigate this to some extent in databases like Postgres by using
more powerful data types like arrays and JSON columns, but when
relationships extend across rows, you still have to do joins.</p>
<p>In NoSQL databases, you can model complex data structures with
documents, but if you have relationships across documents, then you
have to do joins and join capabilities in NoSQL databases are
typically far less powerful and transactional semantics typically don&#8217;t
cross documents, if they exist at all.</p>
<p class="last">In ZODB, you can make objects as complex as you want and cross
object relationships are handled with Python object references.</p>
</dd>
<dt>You access data through object attributes and methods.</dt>
<dd><p class="first">If your primary object access is search, then other database
technologies might be a better fit.</p>
<p class="last">ZODB has no query language other than Python. It&#8217;s primary support
for search is through mapping objects called BTrees.  People have
build higher-level search APIs on top of ZODB. These work well
enough to support some search.</p>
</dd>
<dt>You read data a lot more than you write it.</dt>
<dd><p class="first">ZODB caches aggressively, and if you&#8217;re working set fits (or mostly
fits) in memory, performance is very good because it rarely has to
touch the database server.</p>
<p class="last">If your application is very write heavy (e.g. logging), then you&#8217;re
better off using something else.  Sometimes, you can use a database
suitable for heavy writes in combination with ZODB.</p>
</dd>
<dt>Need to test logic that uses your database.</dt>
<dd><p class="first">ZODB has a number of storage implementations, including layered
in-memory implementations that make testing very easy.</p>
<p class="last">A database without an in-memory storage option can make testing very
complicated.</p>
</dd>
</dl>
</div>
<div class="section" id="when-should-you-not-use-zodb">
<h2>When should you <em>not</em> use ZODB?<a class="headerlink" href="#when-should-you-not-use-zodb" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Search is a dominant data access path</p>
</li>
<li><p class="first">You have high write volume</p>
</li>
<li><p class="first">Caching is unlikely to benefit you</p>
<p>This can be the case when write volume is high, or when you tend to
access small amounts of data from a working set way too large to fit in
memory and when there&#8217;s no good mechanism for dividing the working
set across application servers.</p>
</li>
<li><p class="first">You need to use non-Python tools to access your database.</p>
<p>especially tools designed to work with relational databases</p>
</li>
</ul>
</div>
<div class="section" id="how-does-zodb-scale">
<h2>How does ZODB scale?<a class="headerlink" href="#how-does-zodb-scale" title="Permalink to this headline">¶</a></h2>
<p>Not as well as many technologies, but some fairly large applications
have been built on ZODB.</p>
<p>At Zope Corporation, several hundred newspaper content-management
systems and web sites were hosted using a multi-database configuration
with most data in a main database and a catalog database.  The
databases had several hundred gigabytes of ordinary database records
plus multiple terabytes of blob data.</p>
</div>
<div class="section" id="zodb-is-mature">
<h2>ZODB is mature<a class="headerlink" href="#zodb-is-mature" title="Permalink to this headline">¶</a></h2>
<p>ZODB is very mature. Development started in 1996 and it has been used
in production in thousands of applications for many years.</p>
<p>ZODB is in heavy use in the <a class="reference external" href="http://www.pylonsproject.org/">Pyramid</a>
and <a class="reference external" href="https://plone.org/">Plone</a> communities and in many other
applications.</p>
</div>
<div class="section" id="learning-more">
<h2>Learning more<a class="headerlink" href="#learning-more" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/index.html">ZODB programming guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference/index.html">Reference Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="articles/index.html">ZODB articles</a></li>
</ul>
</div>
<ul class="simple">
<li><a class="reference external" href="http://zodb.readthedocs.org/en/latest/">The ZODB Book (in progress)</a></li>
</ul>
</div>
<div class="section" id="downloads">
<h2>Downloads<a class="headerlink" href="#downloads" title="Permalink to this headline">¶</a></h2>
<p>ZODB is distributed through the <a class="reference external" href="http://pypi.python.org/pypi/ZODB">Python Package Index</a>.</p>
<p>You can install the ZODB using pip command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ pip install ZODB
</pre></div>
</div>
</div>
<div class="section" id="community-and-contributing">
<h2>Community and contributing<a class="headerlink" href="#community-and-contributing" title="Permalink to this headline">¶</a></h2>
<p>Discussion occurs on the <a class="reference external" href="https://groups.google.com/forum/#!forum/zodb">ZODB mailing list</a>. (And for the
transaction system on the <a class="reference external" href="https://groups.google.com/forum/#!forum/python-transaction">transaction list</a>)</p>
<p>Bug reporting and feature requests are submitted through github issue
trackers for various ZODB components:</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/zopefoundation/zodb">ZODB</a></li>
<li><a class="reference external" href="https://github.com/zopefoundation/persistent">persistent</a></li>
<li><a class="reference external" href="https://github.com/zopefoundation/transaction">transaction</a></li>
<li><a class="reference external" href="https://github.com/zopefoundation/BTrees">BTrees</a></li>
<li><a class="reference external" href="https://github.com/zopefoundation/ZEO">ZEO (client-server framework)</a></li>
</ul>
<p>If you&#8217;d like to contribute then we&#8217;ll gladly accept work on documentation,
helping out other developers and users at the mailing list, submitting bugs,
creating proposals and writing code.</p>
<p>ZODB is a project managed by the Zope Foundation so you can get write access
for contributing directly - check out the foundation&#8217;s <a class="reference external" href="http://docs.zope.org/developer">Zope Developer Information</a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="#">
              <img class="logo" src="_static/zodb.png" alt="Logo"/>
            </a></p>
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">ZODB - a native object database for Python</a><ul>
<li><a class="reference internal" href="#transactions">Transactions</a></li>
<li><a class="reference internal" href="#other-notable-zodb-features">Other notable ZODB features</a></li>
<li><a class="reference internal" href="#when-should-you-use-zodb">When should you use ZODB?</a></li>
<li><a class="reference internal" href="#when-should-you-not-use-zodb">When should you <em>not</em> use ZODB?</a></li>
<li><a class="reference internal" href="#how-does-zodb-scale">How does ZODB scale?</a></li>
<li><a class="reference internal" href="#zodb-is-mature">ZODB is mature</a></li>
<li><a class="reference internal" href="#learning-more">Learning more</a></li>
<li><a class="reference internal" href="#downloads">Downloads</a></li>
<li><a class="reference internal" href="#community-and-contributing">Community and contributing</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
      <li>Next: <a href="tutorial.html" title="next chapter">Tutorial</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2009-2016, Zope Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="_sources/index.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>