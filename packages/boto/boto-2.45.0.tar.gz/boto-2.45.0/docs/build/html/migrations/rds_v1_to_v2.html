<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Migrating from RDS v1 to RDS v2 &mdash; boto v2.40.0</title>
    
    <link rel="stylesheet" href="../_static/boto.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'HEAD',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="boto v2.40.0" href="../index.html" />
    <link rel="next" title="Applications Built On Boto" href="../apps_built_on_boto.html" />
    <link rel="prev" title="Migrating from DynamoDB v1 to DynamoDB v2" href="dynamodb_v1_to_v2.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../apps_built_on_boto.html" title="Applications Built On Boto"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="dynamodb_v1_to_v2.html" title="Migrating from DynamoDB v1 to DynamoDB v2"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">boto v2.40.0</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
<!--REGION_DISCLAIMER_DO_NOT_REMOVE-->
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>You are viewing the documentation for an older version of boto (boto2).<p>
<p class="last"><a class="reference external" href="https://github.com/boto/boto3">Boto3</a>, the next version of Boto, is now
stable and recommended for general use.  It can be used side-by-side with
Boto in the same project, so it is easy to start using Boto3 in your existing
projects as well as new projects. Going forward, API updates and all new
feature work will be focused on Boto3.</p>
<p>For more information, see the <a href="http://boto3.readthedocs.org/">documentation for boto3.</a></p>
</div>

  <div class="section" id="migrating-from-rds-v1-to-rds-v2">
<h1>Migrating from RDS v1 to RDS v2<a class="headerlink" href="#migrating-from-rds-v1-to-rds-v2" title="Permalink to this headline">¶</a></h1>
<p>The original <code class="docutils literal"><span class="pre">boto.rds</span></code> module has historically lagged quite far behind the
service (at time of writing, almost 50% of the API calls are
missing/out-of-date). To address this, the Boto core team has switched to
a generated client for RDS (<code class="docutils literal"><span class="pre">boto.rds2.layer1.RDSConnection</span></code>).</p>
<p>However, this generated variant is not backward-compatible with the older
<code class="docutils literal"><span class="pre">boto.rds.RDSConnection</span></code>. This document is to help you update your code
(as desired) to take advantage of the latest API calls.</p>
<p>For the duration of the document, <strong>RDS2Connection</strong> refers to
<code class="docutils literal"><span class="pre">boto.rds2.layer1.RDSConnection</span></code>, where <strong>RDSConnection</strong> refers to
<code class="docutils literal"><span class="pre">boto.rds.RDSConnection</span></code>.</p>
<div class="section" id="prominent-differences">
<h2>Prominent Differences<a class="headerlink" href="#prominent-differences" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The new <strong>RDS2Connection</strong> maps very closely to the <a class="reference external" href="http://docs.aws.amazon.com/AmazonRDS/latest/APIReference/Welcome.html">official API operations</a>,
where the old <strong>RDSConnection</strong> had non-standard &amp; inconsistent method names.</li>
<li><strong>RDS2Connection</strong> almost always returns a Python dictionary that maps
closely to the API output. <strong>RDSConnection</strong> returned Python objects.</li>
<li><strong>RDS2Connection</strong> is much more verbose in terms of output. Tools like
<a class="reference external" href="https://github.com/boto/jmespath">jmespath</a> or <a class="reference external" href="https://github.com/edmund-huber/jsonq">jsonq</a> can make handling these sometimes complex dictionaries more
manageable.</li>
</ul>
</div>
<div class="section" id="method-renames">
<h2>Method Renames<a class="headerlink" href="#method-renames" title="Permalink to this headline">¶</a></h2>
<p>Format is <code class="docutils literal"><span class="pre">old_method_name</span></code> -&gt; <code class="docutils literal"><span class="pre">new_method_name</span></code>:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">authorize_dbsecurity_group</span></code> -&gt; <code class="docutils literal"><span class="pre">authorize_db_security_group_ingress</span></code></li>
<li><code class="docutils literal"><span class="pre">create_dbinstance</span></code> -&gt; <code class="docutils literal"><span class="pre">create_db_instance</span></code></li>
<li><code class="docutils literal"><span class="pre">create_dbinstance_read_replica</span></code> -&gt; <code class="docutils literal"><span class="pre">create_db_instance_read_replica</span></code></li>
<li><code class="docutils literal"><span class="pre">create_parameter_group</span></code> -&gt; <code class="docutils literal"><span class="pre">create_db_parameter_group</span></code></li>
<li><code class="docutils literal"><span class="pre">get_all_dbsnapshots</span></code> -&gt; <code class="docutils literal"><span class="pre">describe_db_snapshots</span></code></li>
<li><code class="docutils literal"><span class="pre">get_all_events</span></code> -&gt; <code class="docutils literal"><span class="pre">describe_events</span></code></li>
<li><code class="docutils literal"><span class="pre">modify_dbinstance</span></code> -&gt; <code class="docutils literal"><span class="pre">modify_db_instance</span></code></li>
<li><code class="docutils literal"><span class="pre">reboot_dbinstance</span></code> -&gt; <code class="docutils literal"><span class="pre">reboot_db_instance</span></code></li>
<li><code class="docutils literal"><span class="pre">restore_dbinstance_from_dbsnapshot</span></code> -&gt; <code class="docutils literal"><span class="pre">restore_db_instance_from_db_snapshot</span></code></li>
<li><code class="docutils literal"><span class="pre">restore_dbinstance_from_point_in_time</span></code> -&gt; <code class="docutils literal"><span class="pre">restore_db_instance_to_point_in_time</span></code></li>
<li><code class="docutils literal"><span class="pre">revoke_dbsecurity_group</span></code> -&gt; <code class="docutils literal"><span class="pre">revoke_db_security_group_ingress</span></code></li>
</ul>
</div>
<div class="section" id="parameter-changes">
<h2>Parameter Changes<a class="headerlink" href="#parameter-changes" title="Permalink to this headline">¶</a></h2>
<p>Many parameter names have changed between <strong>RDSConnection</strong> &amp;
<strong>RDS2Connection</strong>. For instance, the old name for the instance identifier was
<code class="docutils literal"><span class="pre">id</span></code>, where the new name is <code class="docutils literal"><span class="pre">db_instance_identifier</span></code>. These changes are to
ensure things map more closely to the API.</p>
<p>In addition, in some cases, ordering &amp; required-ness of parameters has changed
as well. For instance, in <code class="docutils literal"><span class="pre">create_db_instance</span></code>, the
<code class="docutils literal"><span class="pre">engine</span></code> parameter is now required (previously defaulted to <code class="docutils literal"><span class="pre">MySQL5.1</span></code>) &amp;
its position in the call has change to be before <code class="docutils literal"><span class="pre">master_username</span></code>.</p>
<p>As such, when updating your API calls, you should check the
API Reference documentation to ensure you&#8217;re passing the
correct parameters.</p>
</div>
<div class="section" id="return-values">
<h2>Return Values<a class="headerlink" href="#return-values" title="Permalink to this headline">¶</a></h2>
<p><strong>RDSConnection</strong> frequently returned higher-level Python objects. In contrast,
<strong>RDS2Connection</strong> returns Python dictionaries of the data. This will require
a bit more work to extract the necessary values. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Old</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">instances</span> <span class="o">=</span> <span class="n">rds1_conn</span><span class="o">.</span><span class="n">get_all_dbinstances</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">inst</span> <span class="o">=</span> <span class="n">instances</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">inst</span><span class="o">.</span><span class="n">name</span>
<span class="s1">&#39;test-db&#39;</span>

<span class="c1"># New</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">instances</span> <span class="o">=</span> <span class="n">rds2_conn</span><span class="o">.</span><span class="n">describe_db_instances</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">inst</span> <span class="o">=</span> <span class="n">instances</span><span class="p">[</span><span class="s1">&#39;DescribeDBInstancesResponse&#39;</span><span class="p">]</span>\
<span class="o">...</span>                 <span class="p">[</span><span class="s1">&#39;DescribeDBInstancesResult&#39;</span><span class="p">][</span><span class="s1">&#39;DBInstances&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">inst</span><span class="p">[</span><span class="s1">&#39;DBName&#39;</span><span class="p">]</span>
<span class="s1">&#39;test-db&#39;</span>
</pre></div>
</div>
</div>
</div>



          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Migrating from RDS v1 to RDS v2</a><ul>
<li><a class="reference internal" href="#prominent-differences">Prominent Differences</a></li>
<li><a class="reference internal" href="#method-renames">Method Renames</a></li>
<li><a class="reference internal" href="#parameter-changes">Parameter Changes</a></li>
<li><a class="reference internal" href="#return-values">Return Values</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="dynamodb_v1_to_v2.html"
                        title="previous chapter">Migrating from DynamoDB v1 to DynamoDB v2</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../apps_built_on_boto.html"
                        title="next chapter">Applications Built On Boto</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/migrations/rds_v1_to_v2.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><div></div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../apps_built_on_boto.html" title="Applications Built On Boto"
             >next</a> |</li>
        <li class="right" >
          <a href="dynamodb_v1_to_v2.html" title="Migrating from DynamoDB v1 to DynamoDB v2"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">boto v2.40.0</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2009,2010, Mitch Garnaat.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.4.
    </div>
  </body>
</html>