

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>djmessenger package &mdash; djmessenger 1.1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="djmessenger 1.1.0 documentation" href="index.html"/>
        <link rel="next" title="djmessenger.management package" href="djmessenger.management.html"/>
        <link rel="prev" title="Welcome to djmessenger’s documentation!" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> djmessenger
          

          
          </a>

          
            
            
              <div class="version">
                1.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">djmessenger package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="djmessenger.management.html">djmessenger.management package</a></li>
<li class="toctree-l3"><a class="reference internal" href="djmessenger.utils.html">djmessenger.utils package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-djmessenger.admin">djmessenger.admin module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-djmessenger.apps">djmessenger.apps module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-djmessenger.exceptions">djmessenger.exceptions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-djmessenger.facebook_locales">djmessenger.facebook_locales module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-djmessenger.filtering">djmessenger.filtering module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#filtering-module">Filtering Module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-djmessenger.handling">djmessenger.handling module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#handling-module">Handling Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#basehandler">BaseHandler</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-djmessenger.models">djmessenger.models module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#django-model-definition">Django model definition</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-djmessenger.payload">djmessenger.payload module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#payload">Payload</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-djmessenger.receiving">djmessenger.receiving module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-djmessenger.replying">djmessenger.replying module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#replying-module">Replying Module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-djmessenger.routing">djmessenger.routing module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-djmessenger.settings">djmessenger.settings module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-djmessenger.urls">djmessenger.urls module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-djmessenger.views">djmessenger.views module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-djmessenger">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">djmessenger</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>djmessenger package</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/djmessenger.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="djmessenger-package">
<h1>djmessenger package<a class="headerlink" href="#djmessenger-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="djmessenger.management.html">djmessenger.management package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="djmessenger.management.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="djmessenger.management.commands.html">djmessenger.management.commands package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="djmessenger.management.commands.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="djmessenger.management.commands.html#module-djmessenger.management.commands.configure_get_started_button">djmessenger.management.commands.configure_get_started_button module</a></li>
<li class="toctree-l4"><a class="reference internal" href="djmessenger.management.commands.html#module-djmessenger.management.commands.configure_greetings">djmessenger.management.commands.configure_greetings module</a></li>
<li class="toctree-l4"><a class="reference internal" href="djmessenger.management.commands.html#module-djmessenger.management.commands.configure_persistent_menu">djmessenger.management.commands.configure_persistent_menu module</a></li>
<li class="toctree-l4"><a class="reference internal" href="djmessenger.management.commands.html#module-djmessenger.management.commands.get_random_endpoint">djmessenger.management.commands.get_random_endpoint module</a></li>
<li class="toctree-l4"><a class="reference internal" href="djmessenger.management.commands.html#module-djmessenger.management.commands">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="djmessenger.management.html#module-djmessenger.management">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="djmessenger.utils.html">djmessenger.utils package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="djmessenger.utils.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="djmessenger.utils.html#module-djmessenger.utils.decorators">djmessenger.utils.decorators module</a></li>
<li class="toctree-l2"><a class="reference internal" href="djmessenger.utils.html#module-djmessenger.utils.default_routing_policy">djmessenger.utils.default_routing_policy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="djmessenger.utils.html#module-djmessenger.utils.filelock">djmessenger.utils.filelock module</a></li>
<li class="toctree-l2"><a class="reference internal" href="djmessenger.utils.html#module-djmessenger.utils.geocoding">djmessenger.utils.geocoding module</a></li>
<li class="toctree-l2"><a class="reference internal" href="djmessenger.utils.html#module-djmessenger.utils.serializable">djmessenger.utils.serializable module</a></li>
<li class="toctree-l2"><a class="reference internal" href="djmessenger.utils.html#module-djmessenger.utils.utils">djmessenger.utils.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="djmessenger.utils.html#module-djmessenger.utils">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-djmessenger.admin">
<span id="djmessenger-admin-module"></span><h2>djmessenger.admin module<a class="headerlink" href="#module-djmessenger.admin" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-djmessenger.apps">
<span id="djmessenger-apps-module"></span><h2>djmessenger.apps module<a class="headerlink" href="#module-djmessenger.apps" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="djmessenger.apps.DjmessengerConfig">
<em class="property">class </em><code class="descclassname">djmessenger.apps.</code><code class="descname">DjmessengerConfig</code><span class="sig-paren">(</span><em>app_name</em>, <em>app_module</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.apps.DjmessengerConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.apps.config.AppConfig</span></code></p>
<dl class="attribute">
<dt id="djmessenger.apps.DjmessengerConfig.name">
<code class="descname">name</code><em class="property"> = 'djmessenger'</em><a class="headerlink" href="#djmessenger.apps.DjmessengerConfig.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-djmessenger.exceptions">
<span id="djmessenger-exceptions-module"></span><h2>djmessenger.exceptions module<a class="headerlink" href="#module-djmessenger.exceptions" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="djmessenger.exceptions.DJMException">
<em class="property">exception </em><code class="descclassname">djmessenger.exceptions.</code><code class="descname">DJMException</code><a class="headerlink" href="#djmessenger.exceptions.DJMException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">Exception</span></code></p>
<p>Base Exception for DJM</p>
</dd></dl>

<dl class="exception">
<dt id="djmessenger.exceptions.DJMInvalidConfigException">
<em class="property">exception </em><code class="descclassname">djmessenger.exceptions.</code><code class="descname">DJMInvalidConfigException</code><a class="headerlink" href="#djmessenger.exceptions.DJMInvalidConfigException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.exceptions.DJMException" title="djmessenger.exceptions.DJMException"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.exceptions.DJMException</span></code></a></p>
<p>This exception will be raised if user tried to do something that breaks the
assumption made by Facebbok. For example, threading setting greeting text
can have only one, if the user tried to add more, raise this exception</p>
</dd></dl>

<dl class="exception">
<dt id="djmessenger.exceptions.DJMInvalidValueException">
<em class="property">exception </em><code class="descclassname">djmessenger.exceptions.</code><code class="descname">DJMInvalidValueException</code><a class="headerlink" href="#djmessenger.exceptions.DJMInvalidValueException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.exceptions.DJMException" title="djmessenger.exceptions.DJMException"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.exceptions.DJMException</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-djmessenger.facebook_locales">
<span id="djmessenger-facebook-locales-module"></span><h2>djmessenger.facebook_locales module<a class="headerlink" href="#module-djmessenger.facebook_locales" title="Permalink to this headline">¶</a></h2>
<p>An enum to represent locales that Facebook supports</p>
<dl class="class">
<dt id="djmessenger.facebook_locales.FacebookLocale">
<em class="property">class </em><code class="descclassname">djmessenger.facebook_locales.</code><code class="descname">FacebookLocale</code><a class="headerlink" href="#djmessenger.facebook_locales.FacebookLocale" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">enum.Enum</span></code></p>
</dd></dl>

</div>
<div class="section" id="module-djmessenger.filtering">
<span id="djmessenger-filtering-module"></span><h2>djmessenger.filtering module<a class="headerlink" href="#module-djmessenger.filtering" title="Permalink to this headline">¶</a></h2>
<div class="section" id="filtering-module">
<h3>Filtering Module<a class="headerlink" href="#filtering-module" title="Permalink to this headline">¶</a></h3>
<p>Filtering module defines a <a class="reference internal" href="#djmessenger.filtering.BaseFilter" title="djmessenger.filtering.BaseFilter"><code class="xref py py-class docutils literal"><span class="pre">BaseFilter</span></code></a> as the most basic abstract class
and all its subclasses provide some specific logic to filter a given
<a class="reference internal" href="#djmessenger.receiving.Messaging" title="djmessenger.receiving.Messaging"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.receiving.Messaging</span></code></a> object</p>
<dl class="class">
<dt id="djmessenger.filtering.AuthenticationFilter">
<em class="property">class </em><code class="descclassname">djmessenger.filtering.</code><code class="descname">AuthenticationFilter</code><a class="headerlink" href="#djmessenger.filtering.AuthenticationFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.filtering.BaseFilter" title="djmessenger.filtering.BaseFilter"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.filtering.BaseFilter</span></code></a></p>
<dl class="method">
<dt id="djmessenger.filtering.AuthenticationFilter.should_pass">
<code class="descname">should_pass</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.filtering.AuthenticationFilter.should_pass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.filtering.BaseFilter">
<em class="property">class </em><code class="descclassname">djmessenger.filtering.</code><code class="descname">BaseFilter</code><a class="headerlink" href="#djmessenger.filtering.BaseFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
<p>BaseFilter is an ABC for filters, it defines an abstract method which takes
a Messaging object and returns a bool to indicate whether this Messaging
should be further processed</p>
<dl class="method">
<dt id="djmessenger.filtering.BaseFilter.should_pass">
<code class="descname">should_pass</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.filtering.BaseFilter.should_pass" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a <a class="reference internal" href="#djmessenger.receiving.Messaging" title="djmessenger.receiving.Messaging"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.receiving.Messaging</span></code></a> object and determines
whether this object should pass this filter and continue</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>messaging</strong> (<a class="reference internal" href="#djmessenger.receiving.Messaging" title="djmessenger.receiving.Messaging"><em>djmessenger.receiving.Messaging</em></a>) &#8211; A Messaging instance to filter against</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if the given messaging passed this filter and should
continue with the next operation; False otherwise</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.filtering.EmailFilter">
<em class="property">class </em><code class="descclassname">djmessenger.filtering.</code><code class="descname">EmailFilter</code><a class="headerlink" href="#djmessenger.filtering.EmailFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.filtering.BaseFilter" title="djmessenger.filtering.BaseFilter"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.filtering.BaseFilter</span></code></a></p>
<p>Filter that the text sent by user is a valid email address</p>
<dl class="method">
<dt id="djmessenger.filtering.EmailFilter.should_pass">
<code class="descname">should_pass</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.filtering.EmailFilter.should_pass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.filtering.LocationFilter">
<em class="property">class </em><code class="descclassname">djmessenger.filtering.</code><code class="descname">LocationFilter</code><a class="headerlink" href="#djmessenger.filtering.LocationFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.filtering.BaseFilter" title="djmessenger.filtering.BaseFilter"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.filtering.BaseFilter</span></code></a></p>
<p>Pass if messaging is a Location</p>
<dl class="method">
<dt id="djmessenger.filtering.LocationFilter.should_pass">
<code class="descname">should_pass</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.filtering.LocationFilter.should_pass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.filtering.MultimediaFilter">
<em class="property">class </em><code class="descclassname">djmessenger.filtering.</code><code class="descname">MultimediaFilter</code><a class="headerlink" href="#djmessenger.filtering.MultimediaFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.filtering.BaseFilter" title="djmessenger.filtering.BaseFilter"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.filtering.BaseFilter</span></code></a></p>
<p>Pass if messaging is multimedia</p>
<dl class="method">
<dt id="djmessenger.filtering.MultimediaFilter.should_pass">
<code class="descname">should_pass</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.filtering.MultimediaFilter.should_pass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.filtering.PostbackFilter">
<em class="property">class </em><code class="descclassname">djmessenger.filtering.</code><code class="descname">PostbackFilter</code><a class="headerlink" href="#djmessenger.filtering.PostbackFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.filtering.BaseFilter" title="djmessenger.filtering.BaseFilter"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.filtering.BaseFilter</span></code></a></p>
<p>Pass if messaging is a POSTBACK</p>
<dl class="method">
<dt id="djmessenger.filtering.PostbackFilter.should_pass">
<code class="descname">should_pass</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.filtering.PostbackFilter.should_pass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.filtering.SimpleTextRegexFilter">
<em class="property">class </em><code class="descclassname">djmessenger.filtering.</code><code class="descname">SimpleTextRegexFilter</code><span class="sig-paren">(</span><em>regex=None</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.filtering.SimpleTextRegexFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.filtering.BaseFilter" title="djmessenger.filtering.BaseFilter"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.filtering.BaseFilter</span></code></a></p>
<p>Pass if messaging has a text that matches the regex</p>
<p>An example in <a class="reference internal" href="djmessenger.utils.html#module-djmessenger.utils.default_routing_policy" title="djmessenger.utils.default_routing_policy"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.default_routing_policy</span></code></a></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;djmessenger.filtering.SimpleTextRegexFilter&quot;</span><span class="p">,</span>
    <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;regex&quot;</span><span class="p">:</span> <span class="s2">&quot;^你好$&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="method">
<dt id="djmessenger.filtering.SimpleTextRegexFilter.should_pass">
<code class="descname">should_pass</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.filtering.SimpleTextRegexFilter.should_pass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.filtering.StickerFilter">
<em class="property">class </em><code class="descclassname">djmessenger.filtering.</code><code class="descname">StickerFilter</code><a class="headerlink" href="#djmessenger.filtering.StickerFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.filtering.BaseFilter" title="djmessenger.filtering.BaseFilter"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.filtering.BaseFilter</span></code></a></p>
<p>Pass if messaging is a STICKER and the id is within STICKER_IDS</p>
<dl class="attribute">
<dt id="djmessenger.filtering.StickerFilter.STICKER_IDS">
<code class="descname">STICKER_IDS</code><em class="property"> = ()</em><a class="headerlink" href="#djmessenger.filtering.StickerFilter.STICKER_IDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.filtering.StickerFilter.should_pass">
<code class="descname">should_pass</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.filtering.StickerFilter.should_pass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.filtering.ThumbUpFilter">
<em class="property">class </em><code class="descclassname">djmessenger.filtering.</code><code class="descname">ThumbUpFilter</code><a class="headerlink" href="#djmessenger.filtering.ThumbUpFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.filtering.StickerFilter" title="djmessenger.filtering.StickerFilter"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.filtering.StickerFilter</span></code></a></p>
<dl class="attribute">
<dt id="djmessenger.filtering.ThumbUpFilter.STICKER_IDS">
<code class="descname">STICKER_IDS</code><em class="property"> = ('810', '814', '822')</em><a class="headerlink" href="#djmessenger.filtering.ThumbUpFilter.STICKER_IDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.filtering.TimeFilter">
<em class="property">class </em><code class="descclassname">djmessenger.filtering.</code><code class="descname">TimeFilter</code><span class="sig-paren">(</span><em>start_time</em>, <em>end_time</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.filtering.TimeFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.filtering.BaseFilter" title="djmessenger.filtering.BaseFilter"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.filtering.BaseFilter</span></code></a></p>
<p>Filter that passes if the messaging timestamp is within the predefined
time period</p>
<p>An example in policy</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;djmessenger.filtering.TimeFilter&quot;</span><span class="p">,</span>
    <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;start_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-1-1T00:00:00Z-0800&quot;</span><span class="p">,</span>
        <span class="s2">&quot;end_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-1-1T01:00:00Z-0800&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="djmessenger.filtering.TimeFilter.FORMAT">
<code class="descname">FORMAT</code><em class="property"> = '%Y-%m-%dT%H:%M:%SZ%z'</em><a class="headerlink" href="#djmessenger.filtering.TimeFilter.FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.filtering.TimeFilter.should_pass">
<code class="descname">should_pass</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.filtering.TimeFilter.should_pass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-djmessenger.handling">
<span id="djmessenger-handling-module"></span><h2>djmessenger.handling module<a class="headerlink" href="#module-djmessenger.handling" title="Permalink to this headline">¶</a></h2>
<div class="section" id="handling-module">
<h3>Handling Module<a class="headerlink" href="#handling-module" title="Permalink to this headline">¶</a></h3>
<p>Handling module provides abstract class and some implementation for handling a
<a class="reference internal" href="#djmessenger.receiving.Messaging" title="djmessenger.receiving.Messaging"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.receiving.Messaging</span></code></a> object. Handling means to do internal
operations against the <code class="docutils literal"><span class="pre">Messaging</span></code> object, eg. save something into database,
and etc</p>
<div class="section" id="basehandler">
<h4>BaseHandler<a class="headerlink" href="#basehandler" title="Permalink to this headline">¶</a></h4>
<p>Defines <cite>handle(messaging)</cite> which need to be overridden by subclasses</p>
<p>In <cite>handle()</cite>, you just perform operations on the data provided by <code class="docutils literal"><span class="pre">messaging</span></code></p>
<dl class="class">
<dt id="djmessenger.handling.BaseHandler">
<em class="property">class </em><code class="descclassname">djmessenger.handling.</code><code class="descname">BaseHandler</code><a class="headerlink" href="#djmessenger.handling.BaseHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">abc.ABC</span></code></p>
<p>BaseHandler is an abstract base class to</p>
<p>Actually handle it by adding something to database, or other internal
work</p>
<dl class="method">
<dt id="djmessenger.handling.BaseHandler.handle">
<code class="descname">handle</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.handling.BaseHandler.handle" title="Permalink to this definition">¶</a></dt>
<dd><p>Actually handles the messaging</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>messaging</strong> (<a class="reference internal" href="#djmessenger.receiving.Messaging" title="djmessenger.receiving.Messaging"><em>djmessenger.receiving.Messaging</em></a>) &#8211; A Messaging object to handle</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">nothing</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.handling.BasePayloadHandler">
<em class="property">class </em><code class="descclassname">djmessenger.handling.</code><code class="descname">BasePayloadHandler</code><a class="headerlink" href="#djmessenger.handling.BasePayloadHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.handling.BaseHandler" title="djmessenger.handling.BaseHandler"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.handling.BaseHandler</span></code></a></p>
<p>Postback and QuickReply contains payload, and in order to support request
chaining, we need to provide a default base class for Postback and
QuickReply.</p>
<p>Since the payload in Postback and QuickReply is merely a simple string
limited to 1000 chars, we can utilize this space to send some bookkeeping
info to achieve request chaining.</p>
<p>We are going to make the payload (which is a plain text) looks like a valid
json object so that we can deserialize it back to a dict and then we can
figure out which handler was the sender, then do corresponding actions</p>
<dl class="method">
<dt id="djmessenger.handling.BasePayloadHandler.get_payload">
<code class="descname">get_payload</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.handling.BasePayloadHandler.get_payload" title="Permalink to this definition">¶</a></dt>
<dd><p>Payload class must be a subclass of djmessenger.utils.payload.Payload,
and the class defines an attribute <cite>payload_class</cite>, we can simply load
the class from this fully qualified class name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an instance of the subclass of Payload</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">an instance of the subclass of Payload</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="djmessenger.handling.BasePayloadHandler.get_payload_string_from_messaging">
<code class="descname">get_payload_string_from_messaging</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.handling.BasePayloadHandler.get_payload_string_from_messaging" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns payload contained in <a class="reference internal" href="#djmessenger.receiving.Messaging" title="djmessenger.receiving.Messaging"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.receiving.Messaging</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the corresponding payload string from Messaging</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.handling.BasePostbackHandler">
<em class="property">class </em><code class="descclassname">djmessenger.handling.</code><code class="descname">BasePostbackHandler</code><a class="headerlink" href="#djmessenger.handling.BasePostbackHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.handling.BasePayloadHandler" title="djmessenger.handling.BasePayloadHandler"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.handling.BasePayloadHandler</span></code></a></p>
<p>A base class to be extended by subclass to handle custom Postback Payload</p>
<dl class="method">
<dt id="djmessenger.handling.BasePostbackHandler.get_payload_string_from_messaging">
<code class="descname">get_payload_string_from_messaging</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.handling.BasePostbackHandler.get_payload_string_from_messaging" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The payload portion from Messaging</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="djmessenger.handling.BasePostbackHandler.handle">
<code class="descname">handle</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.handling.BasePostbackHandler.handle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.handling.BaseQuickReplyHandler">
<em class="property">class </em><code class="descclassname">djmessenger.handling.</code><code class="descname">BaseQuickReplyHandler</code><a class="headerlink" href="#djmessenger.handling.BaseQuickReplyHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.handling.BasePayloadHandler" title="djmessenger.handling.BasePayloadHandler"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.handling.BasePayloadHandler</span></code></a></p>
<p>A base class to be extended by subclasses to handle custom QuickReply
payload</p>
<dl class="method">
<dt id="djmessenger.handling.BaseQuickReplyHandler.get_payload_string_from_messaging">
<code class="descname">get_payload_string_from_messaging</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.handling.BaseQuickReplyHandler.get_payload_string_from_messaging" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.handling.BaseQuickReplyHandler.get_text">
<code class="descname">get_text</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.handling.BaseQuickReplyHandler.get_text" title="Permalink to this definition">¶</a></dt>
<dd><p>quick reply will come with text which is the quick reply title</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="djmessenger.handling.BaseQuickReplyHandler.handle">
<code class="descname">handle</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.handling.BaseQuickReplyHandler.handle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.handling.LocationHandler">
<em class="property">class </em><code class="descclassname">djmessenger.handling.</code><code class="descname">LocationHandler</code><a class="headerlink" href="#djmessenger.handling.LocationHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.handling.BaseHandler" title="djmessenger.handling.BaseHandler"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.handling.BaseHandler</span></code></a></p>
<p>If the user sends a location to the BOT (by click on the map pin icon next
to thumb up), this handler saves this coordinates to the database</p>
<dl class="method">
<dt id="djmessenger.handling.LocationHandler.handle">
<code class="descname">handle</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.handling.LocationHandler.handle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.handling.SaveMessagingHandler">
<em class="property">class </em><code class="descclassname">djmessenger.handling.</code><code class="descname">SaveMessagingHandler</code><a class="headerlink" href="#djmessenger.handling.SaveMessagingHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.handling.BaseHandler" title="djmessenger.handling.BaseHandler"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.handling.BaseHandler</span></code></a></p>
<p>This handler saves the messaging into the database for further reference</p>
<dl class="method">
<dt id="djmessenger.handling.SaveMessagingHandler.handle">
<code class="descname">handle</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.handling.SaveMessagingHandler.handle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.handling.ThumbUpHandler">
<em class="property">class </em><code class="descclassname">djmessenger.handling.</code><code class="descname">ThumbUpHandler</code><a class="headerlink" href="#djmessenger.handling.ThumbUpHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.handling.BaseHandler" title="djmessenger.handling.BaseHandler"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.handling.BaseHandler</span></code></a></p>
<p>Handles when the user sends a thumb up</p>
<dl class="method">
<dt id="djmessenger.handling.ThumbUpHandler.handle">
<code class="descname">handle</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.handling.ThumbUpHandler.handle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.handling.UserProfileHandler">
<em class="property">class </em><code class="descclassname">djmessenger.handling.</code><code class="descname">UserProfileHandler</code><a class="headerlink" href="#djmessenger.handling.UserProfileHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.handling.BaseHandler" title="djmessenger.handling.BaseHandler"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.handling.BaseHandler</span></code></a></p>
<p>Every messaging has sender.id, based on settings.DJM_SAVE_USER_PROFILE, this
handler save user profile into database using models.FBUserProfile.</p>
<p>If DJM_SAVE_USER_PROFILE was True, we fetch user profile using graph API;
otherwise we only save user psid to the database</p>
<dl class="method">
<dt id="djmessenger.handling.UserProfileHandler.handle">
<code class="descname">handle</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.handling.UserProfileHandler.handle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
</div>
<div class="section" id="module-djmessenger.models">
<span id="djmessenger-models-module"></span><h2>djmessenger.models module<a class="headerlink" href="#module-djmessenger.models" title="Permalink to this headline">¶</a></h2>
<div class="section" id="django-model-definition">
<h3>Django model definition<a class="headerlink" href="#django-model-definition" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="djmessenger.models.FBUserProfile">
<em class="property">class </em><code class="descclassname">djmessenger.models.</code><code class="descname">FBUserProfile</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.models.FBUserProfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.db.models.base.Model</span></code></p>
<p>This FBUserProfile class is to represent a user that sent a message to us
via Facebook Messenger, from the message relayed by Facebook, we can look
up user details which will be stored here</p>
<dl class="exception">
<dt id="djmessenger.models.FBUserProfile.DoesNotExist">
<em class="property">exception </em><code class="descname">DoesNotExist</code><a class="headerlink" href="#djmessenger.models.FBUserProfile.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.core.exceptions.ObjectDoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="djmessenger.models.FBUserProfile.MultipleObjectsReturned">
<em class="property">exception </em><code class="descclassname">FBUserProfile.</code><code class="descname">MultipleObjectsReturned</code><a class="headerlink" href="#djmessenger.models.FBUserProfile.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.core.exceptions.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.FBUserProfile.date_joined">
<code class="descclassname">FBUserProfile.</code><code class="descname">date_joined</code><a class="headerlink" href="#djmessenger.models.FBUserProfile.date_joined" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.FBUserProfile.first_name">
<code class="descclassname">FBUserProfile.</code><code class="descname">first_name</code><a class="headerlink" href="#djmessenger.models.FBUserProfile.first_name" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.FBUserProfile.gender">
<code class="descclassname">FBUserProfile.</code><code class="descname">gender</code><a class="headerlink" href="#djmessenger.models.FBUserProfile.gender" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="method">
<dt id="djmessenger.models.FBUserProfile.get_next_by_date_joined">
<code class="descclassname">FBUserProfile.</code><code class="descname">get_next_by_date_joined</code><span class="sig-paren">(</span><em>*moreargs</em>, <em>**morekwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.models.FBUserProfile.get_next_by_date_joined" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.models.FBUserProfile.get_previous_by_date_joined">
<code class="descclassname">FBUserProfile.</code><code class="descname">get_previous_by_date_joined</code><span class="sig-paren">(</span><em>*moreargs</em>, <em>**morekwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.models.FBUserProfile.get_previous_by_date_joined" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.FBUserProfile.is_active">
<code class="descclassname">FBUserProfile.</code><code class="descname">is_active</code><a class="headerlink" href="#djmessenger.models.FBUserProfile.is_active" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.FBUserProfile.last_name">
<code class="descclassname">FBUserProfile.</code><code class="descname">last_name</code><a class="headerlink" href="#djmessenger.models.FBUserProfile.last_name" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.FBUserProfile.locale">
<code class="descclassname">FBUserProfile.</code><code class="descname">locale</code><a class="headerlink" href="#djmessenger.models.FBUserProfile.locale" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.FBUserProfile.objects">
<code class="descclassname">FBUserProfile.</code><code class="descname">objects</code><em class="property"> = &lt;django.db.models.manager.Manager object&gt;</em><a class="headerlink" href="#djmessenger.models.FBUserProfile.objects" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.FBUserProfile.profile_pic">
<code class="descclassname">FBUserProfile.</code><code class="descname">profile_pic</code><a class="headerlink" href="#djmessenger.models.FBUserProfile.profile_pic" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.FBUserProfile.psid">
<code class="descclassname">FBUserProfile.</code><code class="descname">psid</code><a class="headerlink" href="#djmessenger.models.FBUserProfile.psid" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.FBUserProfile.reply_set">
<code class="descclassname">FBUserProfile.</code><code class="descname">reply_set</code><a class="headerlink" href="#djmessenger.models.FBUserProfile.reply_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the related objects manager on the reverse side of a
many-to-one relation.</p>
<p>In the example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Child</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">parent</span> <span class="o">=</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="n">Parent</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s1">&#39;children&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">parent.children</span></code> is a <code class="docutils literal"><span class="pre">ReverseManyToOneDescriptor</span></code> instance.</p>
<p>Most of the implementation is delegated to a dynamically defined manager
class built by <code class="docutils literal"><span class="pre">create_forward_many_to_many_manager()</span></code> defined below.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.FBUserProfile.thumbups">
<code class="descclassname">FBUserProfile.</code><code class="descname">thumbups</code><a class="headerlink" href="#djmessenger.models.FBUserProfile.thumbups" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.FBUserProfile.timezone">
<code class="descclassname">FBUserProfile.</code><code class="descname">timezone</code><a class="headerlink" href="#djmessenger.models.FBUserProfile.timezone" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.FBUserProfile.userlocation_set">
<code class="descclassname">FBUserProfile.</code><code class="descname">userlocation_set</code><a class="headerlink" href="#djmessenger.models.FBUserProfile.userlocation_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the related objects manager on the reverse side of a
many-to-one relation.</p>
<p>In the example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Child</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">parent</span> <span class="o">=</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="n">Parent</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s1">&#39;children&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">parent.children</span></code> is a <code class="docutils literal"><span class="pre">ReverseManyToOneDescriptor</span></code> instance.</p>
<p>Most of the implementation is delegated to a dynamically defined manager
class built by <code class="docutils literal"><span class="pre">create_forward_many_to_many_manager()</span></code> defined below.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.models.Messaging">
<em class="property">class </em><code class="descclassname">djmessenger.models.</code><code class="descname">Messaging</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.models.Messaging" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.db.models.base.Model</span></code></p>
<p>A table to store <a class="reference internal" href="#djmessenger.receiving.Messaging" title="djmessenger.receiving.Messaging"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.receiving.Messaging</span></code></a></p>
<dl class="exception">
<dt id="djmessenger.models.Messaging.DoesNotExist">
<em class="property">exception </em><code class="descname">DoesNotExist</code><a class="headerlink" href="#djmessenger.models.Messaging.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.core.exceptions.ObjectDoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="djmessenger.models.Messaging.MultipleObjectsReturned">
<em class="property">exception </em><code class="descclassname">Messaging.</code><code class="descname">MultipleObjectsReturned</code><a class="headerlink" href="#djmessenger.models.Messaging.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.core.exceptions.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.Messaging.body">
<code class="descclassname">Messaging.</code><code class="descname">body</code><a class="headerlink" href="#djmessenger.models.Messaging.body" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.Messaging.id">
<code class="descclassname">Messaging.</code><code class="descname">id</code><a class="headerlink" href="#djmessenger.models.Messaging.id" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.Messaging.objects">
<code class="descclassname">Messaging.</code><code class="descname">objects</code><em class="property"> = &lt;django.db.models.manager.Manager object&gt;</em><a class="headerlink" href="#djmessenger.models.Messaging.objects" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.Messaging.type">
<code class="descclassname">Messaging.</code><code class="descname">type</code><a class="headerlink" href="#djmessenger.models.Messaging.type" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.models.Reply">
<em class="property">class </em><code class="descclassname">djmessenger.models.</code><code class="descname">Reply</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.models.Reply" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.db.models.base.Model</span></code></p>
<p>A table to store all replies</p>
<dl class="exception">
<dt id="djmessenger.models.Reply.DoesNotExist">
<em class="property">exception </em><code class="descname">DoesNotExist</code><a class="headerlink" href="#djmessenger.models.Reply.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.core.exceptions.ObjectDoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="djmessenger.models.Reply.MultipleObjectsReturned">
<em class="property">exception </em><code class="descclassname">Reply.</code><code class="descname">MultipleObjectsReturned</code><a class="headerlink" href="#djmessenger.models.Reply.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.core.exceptions.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.Reply.data">
<code class="descclassname">Reply.</code><code class="descname">data</code><a class="headerlink" href="#djmessenger.models.Reply.data" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.Reply.date_sent">
<code class="descclassname">Reply.</code><code class="descname">date_sent</code><a class="headerlink" href="#djmessenger.models.Reply.date_sent" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="method">
<dt id="djmessenger.models.Reply.get_next_by_date_sent">
<code class="descclassname">Reply.</code><code class="descname">get_next_by_date_sent</code><span class="sig-paren">(</span><em>*moreargs</em>, <em>**morekwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.models.Reply.get_next_by_date_sent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.models.Reply.get_previous_by_date_sent">
<code class="descclassname">Reply.</code><code class="descname">get_previous_by_date_sent</code><span class="sig-paren">(</span><em>*moreargs</em>, <em>**morekwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.models.Reply.get_previous_by_date_sent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.Reply.id">
<code class="descclassname">Reply.</code><code class="descname">id</code><a class="headerlink" href="#djmessenger.models.Reply.id" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.Reply.objects">
<code class="descclassname">Reply.</code><code class="descname">objects</code><em class="property"> = &lt;django.db.models.manager.Manager object&gt;</em><a class="headerlink" href="#djmessenger.models.Reply.objects" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.Reply.recipient">
<code class="descclassname">Reply.</code><code class="descname">recipient</code><a class="headerlink" href="#djmessenger.models.Reply.recipient" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the related object on the forward side of a many-to-one or
one-to-one relation.</p>
<p>In the example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Child</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">parent</span> <span class="o">=</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="n">Parent</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s1">&#39;children&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">child.parent</span></code> is a <code class="docutils literal"><span class="pre">ForwardManyToOneDescriptor</span></code> instance.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.Reply.recipient_id">
<code class="descclassname">Reply.</code><code class="descname">recipient_id</code><a class="headerlink" href="#djmessenger.models.Reply.recipient_id" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.Reply.response">
<code class="descclassname">Reply.</code><code class="descname">response</code><a class="headerlink" href="#djmessenger.models.Reply.response" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.Reply.status_code">
<code class="descclassname">Reply.</code><code class="descname">status_code</code><a class="headerlink" href="#djmessenger.models.Reply.status_code" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.Reply.type">
<code class="descclassname">Reply.</code><code class="descname">type</code><a class="headerlink" href="#djmessenger.models.Reply.type" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.models.UserLocation">
<em class="property">class </em><code class="descclassname">djmessenger.models.</code><code class="descname">UserLocation</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.models.UserLocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.db.models.base.Model</span></code></p>
<p>From the message user sent via Facebook to us, addition to saving the raw
request body into RawBody, we try to see if the sent message is actually a
location that contains lat and long, if yes, then we save it here</p>
<dl class="exception">
<dt id="djmessenger.models.UserLocation.DoesNotExist">
<em class="property">exception </em><code class="descname">DoesNotExist</code><a class="headerlink" href="#djmessenger.models.UserLocation.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.core.exceptions.ObjectDoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="djmessenger.models.UserLocation.MultipleObjectsReturned">
<em class="property">exception </em><code class="descclassname">UserLocation.</code><code class="descname">MultipleObjectsReturned</code><a class="headerlink" href="#djmessenger.models.UserLocation.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.core.exceptions.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.UserLocation.date_created">
<code class="descclassname">UserLocation.</code><code class="descname">date_created</code><a class="headerlink" href="#djmessenger.models.UserLocation.date_created" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="method">
<dt id="djmessenger.models.UserLocation.get_next_by_date_created">
<code class="descclassname">UserLocation.</code><code class="descname">get_next_by_date_created</code><span class="sig-paren">(</span><em>*moreargs</em>, <em>**morekwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.models.UserLocation.get_next_by_date_created" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.models.UserLocation.get_previous_by_date_created">
<code class="descclassname">UserLocation.</code><code class="descname">get_previous_by_date_created</code><span class="sig-paren">(</span><em>*moreargs</em>, <em>**morekwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.models.UserLocation.get_previous_by_date_created" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.UserLocation.id">
<code class="descclassname">UserLocation.</code><code class="descname">id</code><a class="headerlink" href="#djmessenger.models.UserLocation.id" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.UserLocation.latitude">
<code class="descclassname">UserLocation.</code><code class="descname">latitude</code><a class="headerlink" href="#djmessenger.models.UserLocation.latitude" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.UserLocation.longitude">
<code class="descclassname">UserLocation.</code><code class="descname">longitude</code><a class="headerlink" href="#djmessenger.models.UserLocation.longitude" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.UserLocation.mid">
<code class="descclassname">UserLocation.</code><code class="descname">mid</code><a class="headerlink" href="#djmessenger.models.UserLocation.mid" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.UserLocation.objects">
<code class="descclassname">UserLocation.</code><code class="descname">objects</code><em class="property"> = &lt;django.db.models.manager.Manager object&gt;</em><a class="headerlink" href="#djmessenger.models.UserLocation.objects" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.UserLocation.seq">
<code class="descclassname">UserLocation.</code><code class="descname">seq</code><a class="headerlink" href="#djmessenger.models.UserLocation.seq" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.UserLocation.timestamp">
<code class="descclassname">UserLocation.</code><code class="descname">timestamp</code><a class="headerlink" href="#djmessenger.models.UserLocation.timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.UserLocation.url">
<code class="descclassname">UserLocation.</code><code class="descname">url</code><a class="headerlink" href="#djmessenger.models.UserLocation.url" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.UserLocation.user">
<code class="descclassname">UserLocation.</code><code class="descname">user</code><a class="headerlink" href="#djmessenger.models.UserLocation.user" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the related object on the forward side of a many-to-one or
one-to-one relation.</p>
<p>In the example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Child</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">parent</span> <span class="o">=</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="n">Parent</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s1">&#39;children&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">child.parent</span></code> is a <code class="docutils literal"><span class="pre">ForwardManyToOneDescriptor</span></code> instance.</p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.models.UserLocation.user_id">
<code class="descclassname">UserLocation.</code><code class="descname">user_id</code><a class="headerlink" href="#djmessenger.models.UserLocation.user_id" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-djmessenger.payload">
<span id="djmessenger-payload-module"></span><h2>djmessenger.payload module<a class="headerlink" href="#module-djmessenger.payload" title="Permalink to this headline">¶</a></h2>
<div class="section" id="payload">
<h3>Payload<a class="headerlink" href="#payload" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="#djmessenger.payload.Payload" title="djmessenger.payload.Payload"><code class="xref py py-class docutils literal"><span class="pre">Payload</span></code></a> object is being used in both <strong>handlers</strong> and <strong>repliers</strong>,
it starts with you, as the BOT, replies the user buttons or quick replies, each
of them may contain a payload.</p>
<p><a class="reference internal" href="#djmessenger.payload.Payload" title="djmessenger.payload.Payload"><code class="xref py py-class docutils literal"><span class="pre">Payload</span></code></a> is represented in Facebook callback as a simple string,
however, in order for BOT to better handle it, we are going to treat it as a
valid json string.</p>
<p>A payload contains key-value pairs that are dependant to your business logic,
as a result, you will need to write your own payload if you&#8217;d like to send
buttons and replies.</p>
<p><a class="reference internal" href="#djmessenger.payload.Payload" title="djmessenger.payload.Payload"><code class="xref py py-class docutils literal"><span class="pre">Payload</span></code></a> class provides a <cite>get_instance()</cite> classmethod that simply
take a json string and try to deserialize it back to an instance of the actual
subclass.</p>
<p>Here is a quick example, let&#8217;s say you want to display your products when the
user sends you a simple text &#8220;products&#8221;, what you need to do is</p>
<ol class="arabic">
<li><p class="first">Define routing policy</p>
<blockquote>
<div><p>In your routing policy, specify <a class="reference internal" href="#djmessenger.filtering.SimpleTextRegexFilter" title="djmessenger.filtering.SimpleTextRegexFilter"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.filtering.SimpleTextRegexFilter</span></code></a>
and provide regex as &#8220;^products$&#8221; as a filter for <cite>SIMPLE_TEXT</cite></p>
</div></blockquote>
</li>
<li><p class="first">Custom Replier</p>
<blockquote>
<div><p>Write a custom replier which extends either <a class="reference internal" href="#djmessenger.replying.BaseButtonReplier" title="djmessenger.replying.BaseButtonReplier"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.replying.BaseButtonReplier</span></code></a>
or <a class="reference internal" href="#djmessenger.replying.BaseQuickReplyReplier" title="djmessenger.replying.BaseQuickReplyReplier"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.replying.BaseQuickReplyReplier</span></code></a> and provide payload
that contains your product info, something like</p>
<blockquote>
<div><div class="line-block">
<div class="line">Make sure you call <cite>super().__init__()</cite></div>
</div>
</div></blockquote>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyProductPayload</span><span class="p">(</span><span class="n">Payload</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">price</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">price</span> <span class="o">=</span> <span class="n">price</span>
</pre></div>
</div>
<p>when you&#8217;re replying, this payload will be serialized into a single string
and sent along with the template.</p>
<p>Please see <a class="reference internal" href="#djmessenger.replying.BaseButtonReplier" title="djmessenger.replying.BaseButtonReplier"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.replying.BaseButtonReplier</span></code></a> and
<a class="reference internal" href="#djmessenger.replying.BaseQuickReplyReplier" title="djmessenger.replying.BaseQuickReplyReplier"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.replying.BaseQuickReplyReplier</span></code></a> for more details</p>
<p>The main difference between buttons and quick replies are:</p>
<ol class="arabic simple">
<li>Buttons can only have 3 at a time</li>
<li>Quick Replies can have 10 at a time</li>
<li>When user clicks on Buttons, it generates a <a class="reference internal" href="#djmessenger.receiving.Postback" title="djmessenger.receiving.Postback"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.receiving.Postback</span></code></a></li>
<li>When user clicks on quick replies, it generates a <a class="reference internal" href="#djmessenger.receiving.QuickReply" title="djmessenger.receiving.QuickReply"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.receiving.QuickReply</span></code></a></li>
</ol>
</div></blockquote>
</li>
<li><p class="first">Custom handler</p>
<blockquote>
<div><p>If you want to do something when user clicks on the buttons or quick replies
(which you most likely would, otherwise why sent buttons, right), you need
to implement a custom handler which extends either <a class="reference internal" href="#djmessenger.handling.BaseQuickReplyHandler" title="djmessenger.handling.BaseQuickReplyHandler"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.handling.BaseQuickReplyHandler</span></code></a>
or <a class="reference internal" href="#djmessenger.handling.BasePostbackHandler" title="djmessenger.handling.BasePostbackHandler"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.handling.BasePostbackHandler</span></code></a>.</p>
<p>Both of them defines a method <cite>get_payload()</cite> which will return you an
instance of <cite>MyProductPayload</cite>, at this point you know which user (PSID)
clicks on which button (payload) and you can do something like saving to
database</p>
</div></blockquote>
</li>
<li><p class="first">Replier</p>
<blockquote>
<div><p>Then you can use built-in sender or custom sender again to send something
back to the user</p>
</div></blockquote>
</li>
</ol>
<dl class="class">
<dt id="djmessenger.payload.GetStartedPayload">
<em class="property">class </em><code class="descclassname">djmessenger.payload.</code><code class="descname">GetStartedPayload</code><a class="headerlink" href="#djmessenger.payload.GetStartedPayload" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.payload.Payload" title="djmessenger.payload.Payload"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.payload.Payload</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="djmessenger.payload.Payload">
<em class="property">class </em><code class="descclassname">djmessenger.payload.</code><code class="descname">Payload</code><a class="headerlink" href="#djmessenger.payload.Payload" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a>, <code class="xref py py-class docutils literal"><span class="pre">abc.ABC</span></code></p>
<p>Your customized Payload subclass must extend this class and MAKE SURE that
you call <strong>super().__init__</strong> in your <cite>__init__()</cite></p>
<dl class="attribute">
<dt id="djmessenger.payload.Payload.PAYLOAD_CLASS_ATTRIBUTE">
<code class="descname">PAYLOAD_CLASS_ATTRIBUTE</code><em class="property"> = 'payload_class'</em><a class="headerlink" href="#djmessenger.payload.Payload.PAYLOAD_CLASS_ATTRIBUTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.payload.Payload.get_class">
<code class="descname">get_class</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.payload.Payload.get_class" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the Payload subclass</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="djmessenger.payload.Payload.get_instance">
<em class="property">classmethod </em><code class="descname">get_instance</code><span class="sig-paren">(</span><em>json_data</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.payload.Payload.get_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>This class method takes either a string in json format or a dict that
represents a subclass of Payload. Since all payload subclass must
subclass Payload and each of them has payload_class defined, we can
easily determine what is the exact payload class and load the data and
return an instance of that subclass</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>json_data</strong> (<em>str or dict</em>) &#8211; string or dict that represents the subclass of Payload</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an instance of the subclass of Payload</td>
</tr>
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">subclass of Payload</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>&#64;raise ValueError: 1. json_data is empty</dt>
<dd><ol class="first last arabic simple" start="2">
<li>json_data is neither str nor dict</li>
<li>json_data load failed</li>
<li>json_data load successfully but does not load as
a dict</li>
<li>loaded json_data but it doesn&#8217;t contain
payload_class attribute</li>
<li>unable to deserialize it back to the Payload
subclass</li>
</ol>
</dd>
</dl>
<p>&#64;raise ImportError: load_class failed
&#64;raise AttributeError: load_class failed</p>
</dd></dl>

<dl class="method">
<dt id="djmessenger.payload.Payload.is_valid">
<code class="descname">is_valid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.payload.Payload.is_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>Facebook restricts that payload string can not exceed 1000 chars</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the serialized string is less than or equal to 1000;
False otherwise</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.payload.PersistentMenuFivePayload">
<em class="property">class </em><code class="descclassname">djmessenger.payload.</code><code class="descname">PersistentMenuFivePayload</code><a class="headerlink" href="#djmessenger.payload.PersistentMenuFivePayload" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.payload.Payload" title="djmessenger.payload.Payload"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.payload.Payload</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="djmessenger.payload.PersistentMenuFourPayload">
<em class="property">class </em><code class="descclassname">djmessenger.payload.</code><code class="descname">PersistentMenuFourPayload</code><a class="headerlink" href="#djmessenger.payload.PersistentMenuFourPayload" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.payload.Payload" title="djmessenger.payload.Payload"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.payload.Payload</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="djmessenger.payload.PersistentMenuOnePayload">
<em class="property">class </em><code class="descclassname">djmessenger.payload.</code><code class="descname">PersistentMenuOnePayload</code><a class="headerlink" href="#djmessenger.payload.PersistentMenuOnePayload" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.payload.Payload" title="djmessenger.payload.Payload"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.payload.Payload</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="djmessenger.payload.PersistentMenuThreePayload">
<em class="property">class </em><code class="descclassname">djmessenger.payload.</code><code class="descname">PersistentMenuThreePayload</code><a class="headerlink" href="#djmessenger.payload.PersistentMenuThreePayload" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.payload.Payload" title="djmessenger.payload.Payload"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.payload.Payload</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="djmessenger.payload.PersistentMenuTwoPayload">
<em class="property">class </em><code class="descclassname">djmessenger.payload.</code><code class="descname">PersistentMenuTwoPayload</code><a class="headerlink" href="#djmessenger.payload.PersistentMenuTwoPayload" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.payload.Payload" title="djmessenger.payload.Payload"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.payload.Payload</span></code></a></p>
</dd></dl>

</div>
</div>
<div class="section" id="module-djmessenger.receiving">
<span id="djmessenger-receiving-module"></span><h2>djmessenger.receiving module<a class="headerlink" href="#module-djmessenger.receiving" title="Permalink to this headline">¶</a></h2>
<p># Receiving module</p>
<p>This module contains all classes that represent a Facebook callback.
Basically this is just models to represent the json templates that Facebook
would sent over as described here:</p>
<p><a class="reference external" href="https://developers.facebook.com/docs/messenger-platform/webhook-reference">Facebook Webhook Reference</a></p>
<dl class="class">
<dt id="djmessenger.receiving.AccountLinking">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">AccountLinking</code><span class="sig-paren">(</span><em>status</em>, <em>authorization_code=''</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.AccountLinking" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.AccountLinkingChecker">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">AccountLinkingChecker</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.AccountLinkingChecker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.receiving.MessagingChecker" title="djmessenger.receiving.MessagingChecker"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.receiving.MessagingChecker</span></code></a></p>
<dl class="method">
<dt id="djmessenger.receiving.AccountLinkingChecker.check">
<code class="descname">check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.AccountLinkingChecker.check" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.Attachment">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">Attachment</code><span class="sig-paren">(</span><em>ttype</em>, <em>payload</em>, <em>url</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Attachment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
<p>There are 2 types of Attachment payloads, LocationAttachmentPayload and
MultimediaAttachmentPayload, so we are not providing _obj_map but need to
override deserialize to look at self.type and determine which type of
payload to deserialize to</p>
<dl class="classmethod">
<dt id="djmessenger.receiving.Attachment.deserialize">
<em class="property">classmethod </em><code class="descname">deserialize</code><span class="sig-paren">(</span><em>json_data</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Attachment.deserialize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.AttachmentType">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">AttachmentType</code><span class="sig-paren">(</span><em>name</em>, <em>description=''</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.AttachmentType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.SerializableEnum" title="djmessenger.utils.serializable.SerializableEnum"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.SerializableEnum</span></code></a></p>
<dl class="attribute">
<dt id="djmessenger.receiving.AttachmentType.AUDIO">
<code class="descname">AUDIO</code><em class="property"> = (AttachmentType) audio</em><a class="headerlink" href="#djmessenger.receiving.AttachmentType.AUDIO" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.AttachmentType.FILE">
<code class="descname">FILE</code><em class="property"> = (AttachmentType) file</em><a class="headerlink" href="#djmessenger.receiving.AttachmentType.FILE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.AttachmentType.IMAGE">
<code class="descname">IMAGE</code><em class="property"> = (AttachmentType) image</em><a class="headerlink" href="#djmessenger.receiving.AttachmentType.IMAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.AttachmentType.LOCATION">
<code class="descname">LOCATION</code><em class="property"> = (AttachmentType) location</em><a class="headerlink" href="#djmessenger.receiving.AttachmentType.LOCATION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.AttachmentType.VIDEO">
<code class="descname">VIDEO</code><em class="property"> = (AttachmentType) video</em><a class="headerlink" href="#djmessenger.receiving.AttachmentType.VIDEO" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.AttachmentType.members">
<code class="descname">members</code><em class="property"> = {'audio': (AttachmentType) audio, 'location': (AttachmentType) location, 'image': (AttachmentType) image, 'file': (AttachmentType) file, 'video': (AttachmentType) video}</em><a class="headerlink" href="#djmessenger.receiving.AttachmentType.members" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.AuthenticationChecker">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">AuthenticationChecker</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.AuthenticationChecker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.receiving.MessagingChecker" title="djmessenger.receiving.MessagingChecker"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.receiving.MessagingChecker</span></code></a></p>
<dl class="method">
<dt id="djmessenger.receiving.AuthenticationChecker.check">
<code class="descname">check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.AuthenticationChecker.check" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.Callback">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">Callback</code><span class="sig-paren">(</span><em>object='page'</em>, <em>entry=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
<p><a class="reference external" href="https://developers.facebook.com/docs/messenger-platform/webhook-reference">https://developers.facebook.com/docs/messenger-platform/webhook-reference</a></p>
<dl class="attribute">
<dt id="djmessenger.receiving.Callback.custom_obj_map">
<code class="descname">custom_obj_map</code><em class="property"> = {'entry': [&lt;class 'djmessenger.receiving.Entry'&gt;, &lt;class 'list'&gt;]}</em><a class="headerlink" href="#djmessenger.receiving.Callback.custom_obj_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="djmessenger.receiving.Callback.get_instance">
<em class="property">classmethod </em><code class="descname">get_instance</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Callback.get_instance" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>request</strong> (<em>django.core.handlers.wsgi.WSGIRequest</em>) &#8211; HTTP Request object</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">instance of Callback</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#djmessenger.receiving.Callback" title="djmessenger.receiving.Callback">Callback</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="djmessenger.receiving.Callback.get_sender_id">
<code class="descname">get_sender_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Callback.get_sender_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Each callback must have some Messaging, we should expect that we can
always get a sender id</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.Coordinates">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">Coordinates</code><span class="sig-paren">(</span><em>lat</em>, <em>llong</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.Delivery">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">Delivery</code><span class="sig-paren">(</span><em>watermark</em>, <em>seq</em>, <em>mids=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Delivery" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.Entry">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">Entry</code><span class="sig-paren">(</span><em>iid</em>, <em>time</em>, <em>messaging=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Entry" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
<p><a class="reference external" href="https://developers.facebook.com/docs/messenger-platform/webhook-reference">https://developers.facebook.com/docs/messenger-platform/webhook-reference</a></p>
<dl class="attribute">
<dt id="djmessenger.receiving.Entry.custom_obj_map">
<code class="descname">custom_obj_map</code><em class="property"> = {'messaging': [&lt;class 'djmessenger.receiving.Messaging'&gt;, &lt;class 'list'&gt;]}</em><a class="headerlink" href="#djmessenger.receiving.Entry.custom_obj_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.LocationAttachmentPayload">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">LocationAttachmentPayload</code><span class="sig-paren">(</span><em>coordinates</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.LocationAttachmentPayload" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
<dl class="attribute">
<dt id="djmessenger.receiving.LocationAttachmentPayload.custom_obj_map">
<code class="descname">custom_obj_map</code><em class="property"> = {'coordinates': [&lt;class 'djmessenger.receiving.Coordinates'&gt;, &lt;class 'object'&gt;]}</em><a class="headerlink" href="#djmessenger.receiving.LocationAttachmentPayload.custom_obj_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.Message">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">Message</code><span class="sig-paren">(</span><em>text</em>, <em>mid</em>, <em>seq</em>, <em>sticker_id=None</em>, <em>quick_reply=None</em>, <em>attachments=[]</em>, <em>is_echo=False</em>, <em>app_id=''</em>, <em>metadata=''</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Message" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
<p>Each Messaging could have 1 Message object</p>
<dl class="attribute">
<dt id="djmessenger.receiving.Message.custom_obj_map">
<code class="descname">custom_obj_map</code><em class="property"> = {'attachments': [&lt;class 'djmessenger.receiving.Attachment'&gt;, &lt;class 'list'&gt;], 'quick_reply': [&lt;class 'djmessenger.receiving.QuickReply'&gt;, &lt;class 'object'&gt;]}</em><a class="headerlink" href="#djmessenger.receiving.Message.custom_obj_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.MessageDeliveredChecker">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">MessageDeliveredChecker</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.MessageDeliveredChecker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.receiving.MessagingChecker" title="djmessenger.receiving.MessagingChecker"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.receiving.MessagingChecker</span></code></a></p>
<dl class="method">
<dt id="djmessenger.receiving.MessageDeliveredChecker.check">
<code class="descname">check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.MessageDeliveredChecker.check" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.MessageReadChecker">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">MessageReadChecker</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.MessageReadChecker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.receiving.MessagingChecker" title="djmessenger.receiving.MessagingChecker"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.receiving.MessagingChecker</span></code></a></p>
<dl class="method">
<dt id="djmessenger.receiving.MessageReadChecker.check">
<code class="descname">check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.MessageReadChecker.check" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.MessageReceivedChecker">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">MessageReceivedChecker</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.MessageReceivedChecker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.receiving.MessagingChecker" title="djmessenger.receiving.MessagingChecker"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.receiving.MessagingChecker</span></code></a></p>
<p>This check handles all types in MessagedReceived and MessageEcho</p>
<dl class="method">
<dt id="djmessenger.receiving.MessageReceivedChecker.check">
<code class="descname">check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.MessageReceivedChecker.check" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.Messaging">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">Messaging</code><span class="sig-paren">(</span><em>sender</em>, <em>recipient</em>, <em>timestamp=1478999839</em>, <em>message=None</em>, <em>postback=None</em>, <em>optin=None</em>, <em>account_linking=None</em>, <em>delivery=None</em>, <em>read=None</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Messaging" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
<p>Each Entry contains multiple Messaging object, Messaging has different
CallbackType, we are going to define this class so that it includes all
possible objects and then when we got a json data, we just load them
into the objects. After we deserialized json data into Messaging, we then
determine what type of a Callback this is by looking at some fields and
values using CallbackTypeChecker</p>
<dl class="attribute">
<dt id="djmessenger.receiving.Messaging.custom_obj_map">
<code class="descname">custom_obj_map</code><em class="property"> = {'message': [&lt;class 'djmessenger.receiving.Message'&gt;, &lt;class 'object'&gt;], 'delivery': [&lt;class 'djmessenger.receiving.Delivery'&gt;, &lt;class 'object'&gt;], 'optin': [&lt;class 'djmessenger.receiving.Optin'&gt;, &lt;class 'object'&gt;], 'sender': [&lt;class 'djmessenger.receiving.Sender'&gt;, &lt;class 'object'&gt;], 'read': [&lt;class 'djmessenger.receiving.Read'&gt;, &lt;class 'object'&gt;], 'postback': [&lt;class 'djmessenger.receiving.Postback'&gt;, &lt;class 'object'&gt;], 'recipient': [&lt;class 'djmessenger.receiving.Recipient'&gt;, &lt;class 'object'&gt;], 'account_linking': [&lt;class 'djmessenger.receiving.AccountLinking'&gt;, &lt;class 'object'&gt;]}</em><a class="headerlink" href="#djmessenger.receiving.Messaging.custom_obj_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.receiving.Messaging.get_coordinates">
<code class="descname">get_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Messaging.get_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#djmessenger.receiving.Coordinates" title="djmessenger.receiving.Coordinates">Coordinates</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="djmessenger.receiving.Messaging.get_postback_payload">
<code class="descname">get_postback_payload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Messaging.get_postback_payload" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="djmessenger.receiving.Messaging.get_psid">
<code class="descname">get_psid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Messaging.get_psid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.receiving.Messaging.get_quick_reply_payload">
<code class="descname">get_quick_reply_payload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Messaging.get_quick_reply_payload" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.receiving.Messaging.get_receiving_type">
<code class="descname">get_receiving_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Messaging.get_receiving_type" title="Permalink to this definition">¶</a></dt>
<dd><p>After loading the json data into this object, try to determine what
type of callback this messaging is</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#djmessenger.receiving.ReceivingType" title="djmessenger.receiving.ReceivingType">ReceivingType</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="djmessenger.receiving.Messaging.get_sticker_id">
<code class="descname">get_sticker_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Messaging.get_sticker_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.receiving.Messaging.get_text">
<code class="descname">get_text</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Messaging.get_text" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="djmessenger.receiving.Messaging.get_url">
<code class="descname">get_url</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Messaging.get_url" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="djmessenger.receiving.Messaging.get_watermark">
<code class="descname">get_watermark</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Messaging.get_watermark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.MessagingChecker">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">MessagingChecker</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.MessagingChecker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">abc.ABC</span></code></p>
<p>MessagingChecker is to check a messaging that ReceivingType it should be</p>
<dl class="method">
<dt id="djmessenger.receiving.MessagingChecker.check">
<code class="descname">check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.MessagingChecker.check" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Corresponding CallbackType if it passed any check; None if
nothing matches</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#djmessenger.receiving.ReceivingType" title="djmessenger.receiving.ReceivingType">ReceivingType</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.MultimediaAttachmentPayload">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">MultimediaAttachmentPayload</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.MultimediaAttachmentPayload" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.Optin">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">Optin</code><span class="sig-paren">(</span><em>ref</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Optin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.Postback">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">Postback</code><span class="sig-paren">(</span><em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Postback" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.PostbackReceivedChecker">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">PostbackReceivedChecker</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.PostbackReceivedChecker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.receiving.MessagingChecker" title="djmessenger.receiving.MessagingChecker"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.receiving.MessagingChecker</span></code></a></p>
<dl class="method">
<dt id="djmessenger.receiving.PostbackReceivedChecker.check">
<code class="descname">check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.PostbackReceivedChecker.check" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.QuickReply">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">QuickReply</code><span class="sig-paren">(</span><em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.QuickReply" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.Read">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">Read</code><span class="sig-paren">(</span><em>watermark</em>, <em>seq</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Read" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.ReceivingType">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">ReceivingType</code><span class="sig-paren">(</span><em>name</em>, <em>description=''</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.ReceivingType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.SerializableEnum" title="djmessenger.utils.serializable.SerializableEnum"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.SerializableEnum</span></code></a></p>
<p>ReceivingType defines all types that will be sent by Facebook</p>
<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.ACCOUNT_LINKING">
<code class="descname">ACCOUNT_LINKING</code><em class="property"> = (ReceivingType) ACCOUNT_LINKING</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.ACCOUNT_LINKING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.AUDIO">
<code class="descname">AUDIO</code><em class="property"> = (ReceivingType) AUDIO</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.AUDIO" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.AUTHENTICATION">
<code class="descname">AUTHENTICATION</code><em class="property"> = (ReceivingType) AUTHENTICATION</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.AUTHENTICATION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.DEFAULT">
<code class="descname">DEFAULT</code><em class="property"> = (ReceivingType) DEFAULT</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.DEFAULT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.DELIVERED">
<code class="descname">DELIVERED</code><em class="property"> = (ReceivingType) DELIVERED</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.DELIVERED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.ECHO">
<code class="descname">ECHO</code><em class="property"> = (ReceivingType) ECHO</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.ECHO" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.FILE">
<code class="descname">FILE</code><em class="property"> = (ReceivingType) FILE</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.FILE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.GET_STARTED_BUTTON">
<code class="descname">GET_STARTED_BUTTON</code><em class="property"> = (ReceivingType) GET_STARTED_BUTTON</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.GET_STARTED_BUTTON" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.IMAGE">
<code class="descname">IMAGE</code><em class="property"> = (ReceivingType) IMAGE</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.IMAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.LOCATION">
<code class="descname">LOCATION</code><em class="property"> = (ReceivingType) LOCATION</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.LOCATION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.PERSISTENT_MENU_FIVE">
<code class="descname">PERSISTENT_MENU_FIVE</code><em class="property"> = (ReceivingType) PERSISTENT_MENU_FIVE</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.PERSISTENT_MENU_FIVE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.PERSISTENT_MENU_FOUR">
<code class="descname">PERSISTENT_MENU_FOUR</code><em class="property"> = (ReceivingType) PERSISTENT_MENU_FOUR</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.PERSISTENT_MENU_FOUR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.PERSISTENT_MENU_ONE">
<code class="descname">PERSISTENT_MENU_ONE</code><em class="property"> = (ReceivingType) PERSISTENT_MENU_ONE</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.PERSISTENT_MENU_ONE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.PERSISTENT_MENU_THREE">
<code class="descname">PERSISTENT_MENU_THREE</code><em class="property"> = (ReceivingType) PERSISTENT_MENU_THREE</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.PERSISTENT_MENU_THREE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.PERSISTENT_MENU_TWO">
<code class="descname">PERSISTENT_MENU_TWO</code><em class="property"> = (ReceivingType) PERSISTENT_MENU_TWO</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.PERSISTENT_MENU_TWO" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.POSTBACK">
<code class="descname">POSTBACK</code><em class="property"> = (ReceivingType) POSTBACK</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.POSTBACK" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.QUICK_REPLY">
<code class="descname">QUICK_REPLY</code><em class="property"> = (ReceivingType) QUICK_REPLY</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.QUICK_REPLY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.READ">
<code class="descname">READ</code><em class="property"> = (ReceivingType) READ</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.READ" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.SIMPLE_TEXT">
<code class="descname">SIMPLE_TEXT</code><em class="property"> = (ReceivingType) SIMPLE_TEXT</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.SIMPLE_TEXT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.STICKER">
<code class="descname">STICKER</code><em class="property"> = (ReceivingType) STICKER</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.STICKER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.VIDEO">
<code class="descname">VIDEO</code><em class="property"> = (ReceivingType) VIDEO</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.VIDEO" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.receiving.ReceivingType.members">
<code class="descname">members</code><em class="property"> = {'PERSISTENT_MENU_ONE': (ReceivingType) PERSISTENT_MENU_ONE, 'AUDIO': (ReceivingType) AUDIO, 'QUICK_REPLY': (ReceivingType) QUICK_REPLY, 'PERSISTENT_MENU_FIVE': (ReceivingType) PERSISTENT_MENU_FIVE, 'ECHO': (ReceivingType) ECHO, 'DEFAULT': (ReceivingType) DEFAULT, 'SIMPLE_TEXT': (ReceivingType) SIMPLE_TEXT, 'READ': (ReceivingType) READ, 'ACCOUNT_LINKING': (ReceivingType) ACCOUNT_LINKING, 'VIDEO': (ReceivingType) VIDEO, 'FILE': (ReceivingType) FILE, 'PERSISTENT_MENU_FOUR': (ReceivingType) PERSISTENT_MENU_FOUR, 'LOCATION': (ReceivingType) LOCATION, 'GET_STARTED_BUTTON': (ReceivingType) GET_STARTED_BUTTON, 'AUTHENTICATION': (ReceivingType) AUTHENTICATION, 'STICKER': (ReceivingType) STICKER, 'POSTBACK': (ReceivingType) POSTBACK, 'IMAGE': (ReceivingType) IMAGE, 'PERSISTENT_MENU_THREE': (ReceivingType) PERSISTENT_MENU_THREE, 'PERSISTENT_MENU_TWO': (ReceivingType) PERSISTENT_MENU_TWO, 'DELIVERED': (ReceivingType) DELIVERED}</em><a class="headerlink" href="#djmessenger.receiving.ReceivingType.members" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.Recipient">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">Recipient</code><span class="sig-paren">(</span><em>iid</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Recipient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
<p>Your page</p>
</dd></dl>

<dl class="class">
<dt id="djmessenger.receiving.Sender">
<em class="property">class </em><code class="descclassname">djmessenger.receiving.</code><code class="descname">Sender</code><span class="sig-paren">(</span><em>iid</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.receiving.Sender" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
<p>In Receiving messages, Sender represents the Facebook user who sent this
message to your page</p>
</dd></dl>

</div>
<div class="section" id="module-djmessenger.replying">
<span id="djmessenger-replying-module"></span><h2>djmessenger.replying module<a class="headerlink" href="#module-djmessenger.replying" title="Permalink to this headline">¶</a></h2>
<div class="section" id="replying-module">
<h3>Replying Module<a class="headerlink" href="#replying-module" title="Permalink to this headline">¶</a></h3>
<p>Similarly, this replying module is to represent the json templates that should
be used when sending something back to the user based on Facebook reference:</p>
<p><a class="reference external" href="https://developers.facebook.com/docs/messenger-platform/send-api-reference">https://developers.facebook.com/docs/messenger-platform/send-api-reference</a></p>
<dl class="class">
<dt id="djmessenger.replying.AudioReplier">
<em class="property">class </em><code class="descclassname">djmessenger.replying.</code><code class="descname">AudioReplier</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.AudioReplier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.replying.MultimediaReplier" title="djmessenger.replying.MultimediaReplier"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.replying.MultimediaReplier</span></code></a></p>
<p>Reply an Audio from url</p>
<dl class="attribute">
<dt id="djmessenger.replying.AudioReplier.sending_type">
<code class="descname">sending_type</code><em class="property"> = (ReplyingType) audio</em><a class="headerlink" href="#djmessenger.replying.AudioReplier.sending_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.replying.BaseButtonReplier">
<em class="property">class </em><code class="descclassname">djmessenger.replying.</code><code class="descname">BaseButtonReplier</code><span class="sig-paren">(</span><em>localized_string</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.BaseButtonReplier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.replying.SimpleMessageReplier" title="djmessenger.replying.SimpleMessageReplier"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.replying.SimpleMessageReplier</span></code></a></p>
<p>Facebook restricts to have 3 buttons at a time</p>
<p>To reply a list of Button, you need to</p>
<ol class="arabic simple">
<li>Define a subclass that extends <a class="reference internal" href="#djmessenger.payload.Payload" title="djmessenger.payload.Payload"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.payload.Payload</span></code></a>, so
that when user clicks on a button and another request calls back, we
have a way to determine the origin by checking which subclass of Payload
it has</li>
<li>Define a subclass that extends <a class="reference internal" href="#djmessenger.replying.BaseButtonReplier" title="djmessenger.replying.BaseButtonReplier"><code class="xref py py-class docutils literal"><span class="pre">BaseButtonReplier</span></code></a></li>
<li>Define BUTTONS class variable like this</li>
</ol>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyButtonReplier</span><span class="p">(</span><span class="n">BaseButtonReplier</span><span class="p">):</span>
    <span class="n">BUTTONS</span> <span class="o">=</span> <span class="p">{</span>
       <span class="s1">&#39;button 1&#39;</span><span class="p">:</span> <span class="s1">&#39;https://www.google.com&#39;</span><span class="p">,</span>
       <span class="s1">&#39;button 2&#39;</span><span class="p">:</span> <span class="n">MyButtonPayload</span><span class="p">(</span><span class="s1">&#39;button payload 2&#39;</span><span class="p">)</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>The first button will open a new window that goes to the url; while the
second button will trigger a postback request back which contains the
payload</p>
<dl class="attribute">
<dt id="djmessenger.replying.BaseButtonReplier.BUTTONS">
<code class="descname">BUTTONS</code><em class="property"> = {}</em><a class="headerlink" href="#djmessenger.replying.BaseButtonReplier.BUTTONS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="djmessenger.replying.BaseButtonReplier.Button">
<em class="property">class </em><code class="descname">Button</code><span class="sig-paren">(</span><em>title</em>, <em>url=''</em>, <em>payload=None</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.BaseButtonReplier.Button" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.BaseButtonReplier.LIMIT">
<code class="descclassname">BaseButtonReplier.</code><code class="descname">LIMIT</code><em class="property"> = 3</em><a class="headerlink" href="#djmessenger.replying.BaseButtonReplier.LIMIT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.replying.BaseButtonReplier.add_button">
<code class="descclassname">BaseButtonReplier.</code><code class="descname">add_button</code><span class="sig-paren">(</span><em>title</em>, <em>url=''</em>, <em>payload=None</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.BaseButtonReplier.add_button" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="djmessenger.replying.BaseButtonReplier.deserialize">
<em class="property">classmethod </em><code class="descclassname">BaseButtonReplier.</code><code class="descname">deserialize</code><span class="sig-paren">(</span><em>json_data</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.BaseButtonReplier.deserialize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.replying.BaseButtonReplier.get_message">
<code class="descclassname">BaseButtonReplier.</code><code class="descname">get_message</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.BaseButtonReplier.get_message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.replying.BaseButtonReplier.get_reply_type">
<code class="descclassname">BaseButtonReplier.</code><code class="descname">get_reply_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.BaseButtonReplier.get_reply_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.replying.BaseQuickReplyReplier">
<em class="property">class </em><code class="descclassname">djmessenger.replying.</code><code class="descname">BaseQuickReplyReplier</code><span class="sig-paren">(</span><em>localized_string</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.BaseQuickReplyReplier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.replying.SimpleMessageReplier" title="djmessenger.replying.SimpleMessageReplier"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.replying.SimpleMessageReplier</span></code></a></p>
<p>Facebook restricts to have 10 quick replies at a time.</p>
<p>To reply a list of Quick Replies, you need to</p>
<ol class="arabic simple">
<li>Define a subclass that extends <a class="reference internal" href="#djmessenger.payload.Payload" title="djmessenger.payload.Payload"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.payload.Payload</span></code></a>,
so that when user clicks on a QR and another request calls back, we have
a way to determine the origin by checking which subclass of Payload it
has</li>
<li>Define a subclass that extends <a class="reference internal" href="#djmessenger.replying.BaseQuickReplyReplier" title="djmessenger.replying.BaseQuickReplyReplier"><code class="xref py py-class docutils literal"><span class="pre">BaseQuickReplyReplier</span></code></a></li>
<li>Define QUICK_REPLIES class variable like this</li>
</ol>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyQuickReplyReplier</span><span class="p">(</span><span class="n">BaseQuickReplyReplier</span><span class="p">):</span>
    <span class="n">QUICK_REPLIES</span> <span class="o">=</span> <span class="p">{</span>
       <span class="s1">&#39;qr 1&#39;</span><span class="p">:</span> <span class="n">MyQuickReplyPayload</span><span class="p">(</span><span class="s1">&#39;qr payload 1&#39;</span><span class="p">),</span>
       <span class="s1">&#39;qr 2&#39;</span><span class="p">:</span> <span class="n">MyQuickReplyPayload</span><span class="p">(</span><span class="s1">&#39;qr payload 2&#39;</span><span class="p">),</span>
       <span class="s1">&#39;qr 3&#39;</span><span class="p">:</span> <span class="n">MyQuickReplyPayload</span><span class="p">(</span><span class="s1">&#39;qr payload 3&#39;</span><span class="p">),</span>
    <span class="p">}</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="djmessenger.replying.BaseQuickReplyReplier.LIMIT">
<code class="descname">LIMIT</code><em class="property"> = 10</em><a class="headerlink" href="#djmessenger.replying.BaseQuickReplyReplier.LIMIT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.BaseQuickReplyReplier.QUICK_REPLIES">
<code class="descname">QUICK_REPLIES</code><em class="property"> = {}</em><a class="headerlink" href="#djmessenger.replying.BaseQuickReplyReplier.QUICK_REPLIES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="djmessenger.replying.BaseQuickReplyReplier.QuickReply">
<em class="property">class </em><code class="descname">QuickReply</code><span class="sig-paren">(</span><em>title=''</em>, <em>payload=None</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.BaseQuickReplyReplier.QuickReply" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="djmessenger.replying.BaseQuickReplyReplier.add_quick_reply">
<code class="descclassname">BaseQuickReplyReplier.</code><code class="descname">add_quick_reply</code><span class="sig-paren">(</span><em>title</em>, <em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.BaseQuickReplyReplier.add_quick_reply" title="Permalink to this definition">¶</a></dt>
<dd><p>An entry of quick reply button is represented like this as Facebook
defined</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;content_type&quot;</span><span class="p">:</span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;Red&quot;</span><span class="p">,</span>
    <span class="s2">&quot;payload&quot;</span><span class="p">:</span><span class="s2">&quot;DEVELOPER_DEFINED_PAYLOAD_FOR_PICKING_RED&quot;</span>
<span class="p">},</span>
</pre></div>
</div>
<p>content_type must be &#8220;text&#8221;, so the arguments here are title and payload
, payload must be a subclass of Payload</p>
</dd></dl>

<dl class="classmethod">
<dt id="djmessenger.replying.BaseQuickReplyReplier.deserialize">
<em class="property">classmethod </em><code class="descclassname">BaseQuickReplyReplier.</code><code class="descname">deserialize</code><span class="sig-paren">(</span><em>json_data</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.BaseQuickReplyReplier.deserialize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.replying.BaseQuickReplyReplier.get_message">
<code class="descclassname">BaseQuickReplyReplier.</code><code class="descname">get_message</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.BaseQuickReplyReplier.get_message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.replying.BaseQuickReplyReplier.get_reply_type">
<code class="descclassname">BaseQuickReplyReplier.</code><code class="descname">get_reply_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.BaseQuickReplyReplier.get_reply_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.replying.ButtonType">
<em class="property">class </em><code class="descclassname">djmessenger.replying.</code><code class="descname">ButtonType</code><span class="sig-paren">(</span><em>name</em>, <em>description=''</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.ButtonType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.SerializableEnum" title="djmessenger.utils.serializable.SerializableEnum"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.SerializableEnum</span></code></a></p>
<dl class="attribute">
<dt id="djmessenger.replying.ButtonType.POSTBACK">
<code class="descname">POSTBACK</code><em class="property"> = (ButtonType) postback</em><a class="headerlink" href="#djmessenger.replying.ButtonType.POSTBACK" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.ButtonType.WEB_URL">
<code class="descname">WEB_URL</code><em class="property"> = (ButtonType) web_url</em><a class="headerlink" href="#djmessenger.replying.ButtonType.WEB_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.ButtonType.members">
<code class="descname">members</code><em class="property"> = {'web_url': (ButtonType) web_url, 'postback': (ButtonType) postback}</em><a class="headerlink" href="#djmessenger.replying.ButtonType.members" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.replying.CommonReplier">
<em class="property">class </em><code class="descclassname">djmessenger.replying.</code><code class="descname">CommonReplier</code><a class="headerlink" href="#djmessenger.replying.CommonReplier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
<p>Base class for all repliers, 2 abstract methods need to be overridden</p>
<p><code class="xref py py-func docutils literal"><span class="pre">CommonReplier.get_message()</span></code>
<code class="xref py py-func docutils literal"><span class="pre">CommonReplier.get_reply_type()</span></code></p>
<dl class="method">
<dt id="djmessenger.replying.CommonReplier.get_message">
<code class="descname">get_message</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.CommonReplier.get_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Based on the attributes the class constructor constructs, this method
returns the message body, the returned must be a dict and valid json
object.</p>
<dl class="docutils">
<dt>When construct the request json payload, if there is any text that</dt>
<dd>could be i18n&#8217;ed, please make sure to use</dd>
</dl>
<p><code class="xref py py-func docutils literal"><span class="pre">CommonReplier.preprocess_outgoing_string()</span></code> to make sure the
string is using correct locale</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="djmessenger.replying.CommonReplier.get_reply_type">
<code class="descname">get_reply_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.CommonReplier.get_reply_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the SendingType that this Sender sends</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#djmessenger.replying.ReplyingType" title="djmessenger.replying.ReplyingType">ReplyingType</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.CommonReplier.notification_type">
<code class="descname">notification_type</code><em class="property"> = (NotificationType) REGULAR</em><a class="headerlink" href="#djmessenger.replying.CommonReplier.notification_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="djmessenger.replying.CommonReplier.preprocess_outgoing_string">
<em class="property">static </em><code class="descname">preprocess_outgoing_string</code><span class="sig-paren">(</span><em>psid</em>, <em>localized_text</em>, <em>add_prefix=True</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.CommonReplier.preprocess_outgoing_string" title="Permalink to this definition">¶</a></dt>
<dd><p>This method take cares of any preprocessing of the outgoing text.
More specifically, this method converts the text into the user&#8217;s locale,
if available.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>psid</strong> &#8211; </li>
<li><strong>localized_text</strong> (<a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.utils.LocalizedString" title="djmessenger.utils.utils.LocalizedString"><em>LocalizedString</em></a>) &#8211; </li>
<li><strong>add_prefix</strong> (<em>bool</em>) &#8211; whether prepend DJM_BOT_PREFIX to the start of text,
you might want to use it when processing button text</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">localized string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="djmessenger.replying.CommonReplier.reply">
<code class="descname">reply</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.CommonReplier.reply" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask the replier to reply to the psid from the given messaging</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.CommonReplier.sender_action">
<code class="descname">sender_action</code><em class="property"> = None</em><a class="headerlink" href="#djmessenger.replying.CommonReplier.sender_action" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.replying.DefaultMessageReplier">
<em class="property">class </em><code class="descclassname">djmessenger.replying.</code><code class="descname">DefaultMessageReplier</code><a class="headerlink" href="#djmessenger.replying.DefaultMessageReplier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.replying.SimpleMessageReplier" title="djmessenger.replying.SimpleMessageReplier"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.replying.SimpleMessageReplier</span></code></a></p>
<p>Sends back simple text DJM_DEFAULT_SENDER_TEXT</p>
</dd></dl>

<dl class="class">
<dt id="djmessenger.replying.FileReplier">
<em class="property">class </em><code class="descclassname">djmessenger.replying.</code><code class="descname">FileReplier</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.FileReplier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.replying.MultimediaReplier" title="djmessenger.replying.MultimediaReplier"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.replying.MultimediaReplier</span></code></a></p>
<p>Reply a File from url</p>
<dl class="attribute">
<dt id="djmessenger.replying.FileReplier.sending_type">
<code class="descname">sending_type</code><em class="property"> = (ReplyingType) file</em><a class="headerlink" href="#djmessenger.replying.FileReplier.sending_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.replying.ImageReplier">
<em class="property">class </em><code class="descclassname">djmessenger.replying.</code><code class="descname">ImageReplier</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.ImageReplier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.replying.MultimediaReplier" title="djmessenger.replying.MultimediaReplier"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.replying.MultimediaReplier</span></code></a></p>
<p>Reply an Image from url</p>
<dl class="attribute">
<dt id="djmessenger.replying.ImageReplier.sending_type">
<code class="descname">sending_type</code><em class="property"> = (ReplyingType) image</em><a class="headerlink" href="#djmessenger.replying.ImageReplier.sending_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.replying.MultimediaReplier">
<em class="property">class </em><code class="descclassname">djmessenger.replying.</code><code class="descname">MultimediaReplier</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.MultimediaReplier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.replying.CommonReplier" title="djmessenger.replying.CommonReplier"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.replying.CommonReplier</span></code></a></p>
<p>Send back multimedia from a url</p>
<p>ReplyingType.IMAGE = ReplyingType(&#8216;IMAGE&#8217;)
ReplyingType.AUDIO = ReplyingType(&#8216;AUDIO&#8217;)
ReplyingType.VIDEO = ReplyingType(&#8216;VIDEO&#8217;)
ReplyingType.FILE = ReplyingType(&#8216;FILE&#8217;)</p>
<dl class="method">
<dt id="djmessenger.replying.MultimediaReplier.get_message">
<code class="descname">get_message</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.MultimediaReplier.get_message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.replying.MultimediaReplier.get_reply_type">
<code class="descname">get_reply_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.MultimediaReplier.get_reply_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.MultimediaReplier.sending_type">
<code class="descname">sending_type</code><em class="property"> = None</em><a class="headerlink" href="#djmessenger.replying.MultimediaReplier.sending_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.replying.NotificationType">
<em class="property">class </em><code class="descclassname">djmessenger.replying.</code><code class="descname">NotificationType</code><span class="sig-paren">(</span><em>name</em>, <em>description=''</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.NotificationType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.SerializableEnum" title="djmessenger.utils.serializable.SerializableEnum"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.SerializableEnum</span></code></a></p>
<dl class="attribute">
<dt id="djmessenger.replying.NotificationType.NO_PUSH">
<code class="descname">NO_PUSH</code><em class="property"> = (NotificationType) NO_PUSH</em><a class="headerlink" href="#djmessenger.replying.NotificationType.NO_PUSH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.NotificationType.REGULAR">
<code class="descname">REGULAR</code><em class="property"> = (NotificationType) REGULAR</em><a class="headerlink" href="#djmessenger.replying.NotificationType.REGULAR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.NotificationType.SILEN_PUSH">
<code class="descname">SILEN_PUSH</code><em class="property"> = (NotificationType) SILEN_PUSH</em><a class="headerlink" href="#djmessenger.replying.NotificationType.SILEN_PUSH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.NotificationType.members">
<code class="descname">members</code><em class="property"> = {'NO_PUSH': (NotificationType) NO_PUSH, 'SILEN_PUSH': (NotificationType) SILEN_PUSH, 'REGULAR': (NotificationType) REGULAR}</em><a class="headerlink" href="#djmessenger.replying.NotificationType.members" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.replying.ReplyAction">
<em class="property">class </em><code class="descclassname">djmessenger.replying.</code><code class="descname">ReplyAction</code><span class="sig-paren">(</span><em>name</em>, <em>description=''</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.ReplyAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.SerializableEnum" title="djmessenger.utils.serializable.SerializableEnum"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.SerializableEnum</span></code></a></p>
<dl class="attribute">
<dt id="djmessenger.replying.ReplyAction.MARK_SEEN">
<code class="descname">MARK_SEEN</code><em class="property"> = (ReplyAction) mark_seen</em><a class="headerlink" href="#djmessenger.replying.ReplyAction.MARK_SEEN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.ReplyAction.TYPING_OFF">
<code class="descname">TYPING_OFF</code><em class="property"> = (ReplyAction) typing_off</em><a class="headerlink" href="#djmessenger.replying.ReplyAction.TYPING_OFF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.ReplyAction.TYPING_ON">
<code class="descname">TYPING_ON</code><em class="property"> = (ReplyAction) typing_on</em><a class="headerlink" href="#djmessenger.replying.ReplyAction.TYPING_ON" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.ReplyAction.members">
<code class="descname">members</code><em class="property"> = {'typing_off': (ReplyAction) typing_off, 'typing_on': (ReplyAction) typing_on, 'mark_seen': (ReplyAction) mark_seen}</em><a class="headerlink" href="#djmessenger.replying.ReplyAction.members" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.replying.ReplyActionReplier">
<em class="property">class </em><code class="descclassname">djmessenger.replying.</code><code class="descname">ReplyActionReplier</code><span class="sig-paren">(</span><em>action</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.ReplyActionReplier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.replying.CommonReplier" title="djmessenger.replying.CommonReplier"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.replying.CommonReplier</span></code></a></p>
<p>Send a ReplyAction</p>
<dl class="method">
<dt id="djmessenger.replying.ReplyActionReplier.get_message">
<code class="descname">get_message</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.ReplyActionReplier.get_message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.replying.ReplyActionReplier.get_reply_type">
<code class="descname">get_reply_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.ReplyActionReplier.get_reply_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.replying.ReplyingType">
<em class="property">class </em><code class="descclassname">djmessenger.replying.</code><code class="descname">ReplyingType</code><span class="sig-paren">(</span><em>name</em>, <em>description=''</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.ReplyingType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.SerializableEnum" title="djmessenger.utils.serializable.SerializableEnum"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.SerializableEnum</span></code></a></p>
<dl class="attribute">
<dt id="djmessenger.replying.ReplyingType.AUDIO">
<code class="descname">AUDIO</code><em class="property"> = (ReplyingType) audio</em><a class="headerlink" href="#djmessenger.replying.ReplyingType.AUDIO" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.ReplyingType.BUTTON">
<code class="descname">BUTTON</code><em class="property"> = (ReplyingType) button</em><a class="headerlink" href="#djmessenger.replying.ReplyingType.BUTTON" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.ReplyingType.FILE">
<code class="descname">FILE</code><em class="property"> = (ReplyingType) file</em><a class="headerlink" href="#djmessenger.replying.ReplyingType.FILE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.ReplyingType.IMAGE">
<code class="descname">IMAGE</code><em class="property"> = (ReplyingType) image</em><a class="headerlink" href="#djmessenger.replying.ReplyingType.IMAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.ReplyingType.QUICK_REPLY">
<code class="descname">QUICK_REPLY</code><em class="property"> = (ReplyingType) quick_reply</em><a class="headerlink" href="#djmessenger.replying.ReplyingType.QUICK_REPLY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.ReplyingType.SENDER_ACTION">
<code class="descname">SENDER_ACTION</code><em class="property"> = (ReplyingType) sender_action</em><a class="headerlink" href="#djmessenger.replying.ReplyingType.SENDER_ACTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.ReplyingType.SIMPLE_TEXT">
<code class="descname">SIMPLE_TEXT</code><em class="property"> = (ReplyingType) simple_text</em><a class="headerlink" href="#djmessenger.replying.ReplyingType.SIMPLE_TEXT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.ReplyingType.VIDEO">
<code class="descname">VIDEO</code><em class="property"> = (ReplyingType) video</em><a class="headerlink" href="#djmessenger.replying.ReplyingType.VIDEO" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="djmessenger.replying.ReplyingType.members">
<code class="descname">members</code><em class="property"> = {'image': (ReplyingType) image, 'simple_text': (ReplyingType) simple_text, 'quick_reply': (ReplyingType) quick_reply, 'sender_action': (ReplyingType) sender_action, 'audio': (ReplyingType) audio, 'video': (ReplyingType) video, 'file': (ReplyingType) file, 'button': (ReplyingType) button}</em><a class="headerlink" href="#djmessenger.replying.ReplyingType.members" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.replying.SimpleMessageReplier">
<em class="property">class </em><code class="descclassname">djmessenger.replying.</code><code class="descname">SimpleMessageReplier</code><span class="sig-paren">(</span><em>localized_string</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.SimpleMessageReplier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.replying.CommonReplier" title="djmessenger.replying.CommonReplier"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.replying.CommonReplier</span></code></a></p>
<p>Send a simple text message</p>
<dl class="attribute">
<dt id="djmessenger.replying.SimpleMessageReplier.custom_obj_map">
<code class="descname">custom_obj_map</code><em class="property"> = {'localized_string': (&lt;class 'djmessenger.utils.utils.LocalizedString'&gt;, &lt;class 'object'&gt;)}</em><a class="headerlink" href="#djmessenger.replying.SimpleMessageReplier.custom_obj_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.replying.SimpleMessageReplier.get_message">
<code class="descname">get_message</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.SimpleMessageReplier.get_message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.replying.SimpleMessageReplier.get_reply_type">
<code class="descname">get_reply_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.SimpleMessageReplier.get_reply_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.replying.VideoReplier">
<em class="property">class </em><code class="descclassname">djmessenger.replying.</code><code class="descname">VideoReplier</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.replying.VideoReplier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.replying.MultimediaReplier" title="djmessenger.replying.MultimediaReplier"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.replying.MultimediaReplier</span></code></a></p>
<p>Reply a Video from url</p>
<dl class="attribute">
<dt id="djmessenger.replying.VideoReplier.sending_type">
<code class="descname">sending_type</code><em class="property"> = (ReplyingType) video</em><a class="headerlink" href="#djmessenger.replying.VideoReplier.sending_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-djmessenger.routing">
<span id="djmessenger-routing-module"></span><h2>djmessenger.routing module<a class="headerlink" href="#module-djmessenger.routing" title="Permalink to this headline">¶</a></h2>
<p>In a nutshell, the overall flow works like this</p>
<ol class="arabic simple">
<li>receiving module converts incoming request body to a Callback instance</li>
<li>Each Callback instance contains multiple Entry and each Entry contains
multiple Messaging</li>
<li>For each Messaging, we are going to apply this routing policy</li>
</ol>
<p>Each routing policy contains</p>
<ol class="arabic">
<li><p class="first">A list of Rule</p>
</li>
<li><p class="first">A rule contains a list of filters, a list of handlers and a list of repliers</p>
<blockquote>
<div><dl class="docutils">
<dt>2.1 filters are responsible for determining whether the given Messaging</dt>
<dd><p class="first last">is applicable for further handling, a Messaging object must pass all
listed filters in order to reach handlers</p>
</dd>
<dt>2.2 handlers perform internal operations against the Messaging, such like</dt>
<dd><p class="first last">saving something into database and etc</p>
</dd>
</dl>
<p>2.3 repliers reply something back to the user</p>
</div></blockquote>
</li>
</ol>
<p>See <a class="reference internal" href="djmessenger.utils.html#module-djmessenger.utils.default_routing_policy" title="djmessenger.utils.default_routing_policy"><code class="xref py py-mod docutils literal"><span class="pre">djmessenger.utils.default_routing_policy</span></code></a> for sample routing policy
and more details</p>
<dl class="class">
<dt id="djmessenger.routing.Policy">
<em class="property">class </em><code class="descclassname">djmessenger.routing.</code><code class="descname">Policy</code><span class="sig-paren">(</span><em>rules=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.routing.Policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
<p>A <code class="docutils literal"><span class="pre">Policy</span></code> is the most important component in djmessenger. A Policy
defines multiple <a class="reference internal" href="#djmessenger.routing.Rule" title="djmessenger.routing.Rule"><code class="xref py py-class docutils literal"><span class="pre">Rule</span></code></a> and when we got message from customer, we
simply <code class="xref py py-func docutils literal"><span class="pre">Policy.apply()</span></code> the message</p>
<dl class="method">
<dt id="djmessenger.routing.Policy.apply">
<code class="descname">apply</code><span class="sig-paren">(</span><em>messaging</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.routing.Policy.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply this Policy to the given messaging instance</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>messaging</strong> (<a class="reference internal" href="#djmessenger.receiving.Messaging" title="djmessenger.receiving.Messaging"><em>djmessenger.receiving.Messaging</em></a>) &#8211; An instance of Messaging class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="djmessenger.routing.Policy.custom_obj_map">
<code class="descname">custom_obj_map</code><em class="property"> = {'rules': [&lt;class 'djmessenger.routing.Rule'&gt;, &lt;class 'list'&gt;]}</em><a class="headerlink" href="#djmessenger.routing.Policy.custom_obj_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.routing.Policy.get_default_rule">
<code class="descname">get_default_rule</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.routing.Policy.get_default_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>There can only be 1 Rule that has type DEFAULT, if there were multiple,
return the first one; return empty list if not found.</p>
<p>The filters, handlers and repliers defined in DEFAULT Rule will be
applied on all Rules</p>
</dd></dl>

<dl class="classmethod">
<dt id="djmessenger.routing.Policy.get_instance">
<em class="property">classmethod </em><code class="descname">get_instance</code><span class="sig-paren">(</span><em>json_data</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.routing.Policy.get_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a json string, deserialize it and return a <a class="reference internal" href="#djmessenger.routing.Policy" title="djmessenger.routing.Policy"><code class="xref py py-class docutils literal"><span class="pre">Policy</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Policy</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#djmessenger.routing.Policy" title="djmessenger.routing.Policy">Policy</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="djmessenger.routing.Policy.get_rules">
<code class="descname">get_rules</code><span class="sig-paren">(</span><em>rtype</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.routing.Policy.get_rules" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.routing.Rule">
<em class="property">class </em><code class="descclassname">djmessenger.routing.</code><code class="descname">Rule</code><span class="sig-paren">(</span><em>ttype</em>, <em>name=''</em>, <em>filters=[]</em>, <em>handlers=[]</em>, <em>repliers=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.routing.Rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
<p>A <code class="docutils literal"><span class="pre">Rule</span></code> is a class that will be applied to a <code class="docutils literal"><span class="pre">Messaging</span></code> instance.
Each <code class="docutils literal"><span class="pre">Rule</span></code> contains a list of filters, a list of handlers and a list of
repliers.</p>
<p>Filters take a <code class="docutils literal"><span class="pre">Messaging</span></code> and determine whether this <code class="docutils literal"><span class="pre">Messaging</span></code> should
proceed further, if any of the Filters returns False, this <code class="docutils literal"><span class="pre">Rule</span></code> will be
skipped.</p>
<p>See <a class="reference internal" href="djmessenger.utils.html#module-djmessenger.utils.default_routing_policy" title="djmessenger.utils.default_routing_policy"><code class="xref py py-mod docutils literal"><span class="pre">djmessenger.utils.default_routing_policy</span></code></a> for sample routing policy
and more details</p>
<dl class="attribute">
<dt id="djmessenger.routing.Rule.custom_obj_map">
<code class="descname">custom_obj_map</code><em class="property"> = {'filters': [&lt;class 'djmessenger.routing.TargetFilterClass'&gt;, &lt;class 'list'&gt;], 'repliers': [&lt;class 'djmessenger.routing.TargetReplierClass'&gt;, &lt;class 'list'&gt;], 'handlers': [&lt;class 'djmessenger.routing.TargetHandlerClass'&gt;, &lt;class 'list'&gt;]}</em><a class="headerlink" href="#djmessenger.routing.Rule.custom_obj_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.routing.Rule.get_filter_instances">
<code class="descname">get_filter_instances</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.routing.Rule.get_filter_instances" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.routing.Rule.get_filter_wrappers">
<code class="descname">get_filter_wrappers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.routing.Rule.get_filter_wrappers" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A list of TargetFilterClass instances which is a wrapper for
BaseFilter</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="djmessenger.routing.Rule.get_handler_instances">
<code class="descname">get_handler_instances</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.routing.Rule.get_handler_instances" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.routing.Rule.get_handler_wrappers">
<code class="descname">get_handler_wrappers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.routing.Rule.get_handler_wrappers" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A list of TargetHandlerClass instances which is a wrapper for
BaseHandler</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="djmessenger.routing.Rule.get_receiving_type">
<code class="descname">get_receiving_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.routing.Rule.get_receiving_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Each <code class="docutils literal"><span class="pre">Rule</span></code> defines a <a class="reference internal" href="#djmessenger.receiving.ReceivingType" title="djmessenger.receiving.ReceivingType"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.receiving.ReceivingType</span></code></a>,
this method returns it</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#djmessenger.receiving.ReceivingType" title="djmessenger.receiving.ReceivingType">ReceivingType</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="djmessenger.routing.Rule.get_replier_instances">
<code class="descname">get_replier_instances</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.routing.Rule.get_replier_instances" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.routing.Rule.get_replier_wrappers">
<code class="descname">get_replier_wrappers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.routing.Rule.get_replier_wrappers" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A list of TargetReplierClass instances which is a wrapper for
CommonReplier</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.routing.TargetClass">
<em class="property">class </em><code class="descclassname">djmessenger.routing.</code><code class="descname">TargetClass</code><span class="sig-paren">(</span><em>name</em>, <em>args={}</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.routing.TargetClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="djmessenger.utils.html#djmessenger.utils.serializable.Serializable" title="djmessenger.utils.serializable.Serializable"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.utils.serializable.Serializable</span></code></a></p>
<p>This class is a wrapper for filter, handler and replier which were defined
in the policy file. When we are reading the policy file, we will first
deserialize each dict using this class and this class is responsible for
determining the exact target class and return an instance of it</p>
<dl class="attribute">
<dt id="djmessenger.routing.TargetClass.BASE_CLASS">
<code class="descname">BASE_CLASS</code><em class="property"> = None</em><a class="headerlink" href="#djmessenger.routing.TargetClass.BASE_CLASS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.routing.TargetClass.get_args">
<code class="descname">get_args</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.routing.TargetClass.get_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.routing.TargetClass.get_class">
<code class="descname">get_class</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.routing.TargetClass.get_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads and return the exact class from <code class="docutils literal"><span class="pre">self.name</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A class</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="djmessenger.routing.TargetClass.get_instance">
<code class="descname">get_instance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.routing.TargetClass.get_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an instance of the target class, which will be an instance of
subclass of either <a class="reference internal" href="#djmessenger.filtering.BaseFilter" title="djmessenger.filtering.BaseFilter"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.filtering.BaseFilter</span></code></a>,
<a class="reference internal" href="#djmessenger.handling.BaseHandler" title="djmessenger.handling.BaseHandler"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.handling.BaseHandler</span></code></a> or <a class="reference internal" href="#djmessenger.replying.CommonReplier" title="djmessenger.replying.CommonReplier"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.replying.CommonReplier</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">object</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.routing.TargetFilterClass">
<em class="property">class </em><code class="descclassname">djmessenger.routing.</code><code class="descname">TargetFilterClass</code><span class="sig-paren">(</span><em>name</em>, <em>args={}</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.routing.TargetFilterClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.routing.TargetClass" title="djmessenger.routing.TargetClass"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.routing.TargetClass</span></code></a></p>
<dl class="attribute">
<dt id="djmessenger.routing.TargetFilterClass.BASE_CLASS">
<code class="descname">BASE_CLASS</code><a class="headerlink" href="#djmessenger.routing.TargetFilterClass.BASE_CLASS" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal"><span class="pre">BaseFilter</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.routing.TargetHandlerClass">
<em class="property">class </em><code class="descclassname">djmessenger.routing.</code><code class="descname">TargetHandlerClass</code><span class="sig-paren">(</span><em>name</em>, <em>args={}</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.routing.TargetHandlerClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.routing.TargetClass" title="djmessenger.routing.TargetClass"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.routing.TargetClass</span></code></a></p>
<dl class="attribute">
<dt id="djmessenger.routing.TargetHandlerClass.BASE_CLASS">
<code class="descname">BASE_CLASS</code><a class="headerlink" href="#djmessenger.routing.TargetHandlerClass.BASE_CLASS" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal"><span class="pre">BaseHandler</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="djmessenger.routing.TargetReplierClass">
<em class="property">class </em><code class="descclassname">djmessenger.routing.</code><code class="descname">TargetReplierClass</code><span class="sig-paren">(</span><em>name</em>, <em>args={}</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.routing.TargetReplierClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#djmessenger.routing.TargetClass" title="djmessenger.routing.TargetClass"><code class="xref py py-class docutils literal"><span class="pre">djmessenger.routing.TargetClass</span></code></a></p>
<dl class="attribute">
<dt id="djmessenger.routing.TargetReplierClass.BASE_CLASS">
<code class="descname">BASE_CLASS</code><a class="headerlink" href="#djmessenger.routing.TargetReplierClass.BASE_CLASS" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal"><span class="pre">CommonReplier</span></code></p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-djmessenger.settings">
<span id="djmessenger-settings-module"></span><h2>djmessenger.settings module<a class="headerlink" href="#module-djmessenger.settings" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id="djmessenger.settings.DJM_BOT_PREFIX">
<code class="descclassname">djmessenger.settings.</code><code class="descname">DJM_BOT_PREFIX</code><em class="property"> = &lt;django.utils.functional.lazy.&lt;locals&gt;.__proxy__ object&gt;</em><a class="headerlink" href="#djmessenger.settings.DJM_BOT_PREFIX" title="Permalink to this definition">¶</a></dt>
<dd><p>Prefix this string to all text messages sent to users</p>
</dd></dl>

<dl class="data">
<dt id="djmessenger.settings.DJM_BUSINESS_ADDRESS">
<code class="descclassname">djmessenger.settings.</code><code class="descname">DJM_BUSINESS_ADDRESS</code><em class="property"> = ''</em><a class="headerlink" href="#djmessenger.settings.DJM_BUSINESS_ADDRESS" title="Permalink to this definition">¶</a></dt>
<dd><p>This address is where your business is located at</p>
</dd></dl>

<dl class="data">
<dt id="djmessenger.settings.DJM_DEFAULT_SENDER_TEXT">
<code class="descclassname">djmessenger.settings.</code><code class="descname">DJM_DEFAULT_SENDER_TEXT</code><em class="property"> = 'Thanks for your message'</em><a class="headerlink" href="#djmessenger.settings.DJM_DEFAULT_SENDER_TEXT" title="Permalink to this definition">¶</a></dt>
<dd><p>A sender named djmessenger.sending.DefaultSender which is a SimpleTextSender
you can define your message here and directly use it in DJM_ROUTING_POLICY</p>
</dd></dl>

<dl class="data">
<dt id="djmessenger.settings.DJM_ENDPOINT">
<code class="descclassname">djmessenger.settings.</code><code class="descname">DJM_ENDPOINT</code><em class="property"> = 'aef40e8e2b258e647fe84655eab910a7a70bc0031e382f01ba'</em><a class="headerlink" href="#djmessenger.settings.DJM_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd><p>The endpoint that Facebook will relay the callback message to
also being used to setup webhook</p>
</dd></dl>

<dl class="data">
<dt id="djmessenger.settings.DJM_ENDPOINT_VERIFY_TOKEN">
<code class="descclassname">djmessenger.settings.</code><code class="descname">DJM_ENDPOINT_VERIFY_TOKEN</code><em class="property"> = 'djmessenger_verify_token'</em><a class="headerlink" href="#djmessenger.settings.DJM_ENDPOINT_VERIFY_TOKEN" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify Token to be used when verifying endpoint in developer.facebook.com</p>
</dd></dl>

<dl class="data">
<dt id="djmessenger.settings.DJM_PAGE_ACCESS_TOKEN">
<code class="descclassname">djmessenger.settings.</code><code class="descname">DJM_PAGE_ACCESS_TOKEN</code><em class="property"> = 'EAABtMkLqTLoBANwSkJxgqhkDtZBD9QLlzT4YW8JvxvzauC7nkaTtNRkqetF32mcTuwfQjtpm1cmZBx8HttEYLJ3MFDjeg8SLf6ZA6o84V0540McEEYHuoi7MZBHmAxvT08Kq5Iizj3uD0KqZCfUEGqwId4v5gAvXvifd7mw5TRQZDZD'</em><a class="headerlink" href="#djmessenger.settings.DJM_PAGE_ACCESS_TOKEN" title="Permalink to this definition">¶</a></dt>
<dd><p>Facebook Page Access Token, get it from developers.facebook.com</p>
</dd></dl>

<dl class="data">
<dt id="djmessenger.settings.DJM_ROUTING_POLICY">
<code class="descclassname">djmessenger.settings.</code><code class="descname">DJM_ROUTING_POLICY</code><em class="property"> = {'rules': [{'type': 'DEFAULT', 'filters': [{'args': {'start_time': '2016-1-1T00:00:00Z-0800', 'end_time': '2017-1-1T01:00:00Z-0800'}, 'name': 'djmessenger.filtering.TimeFilter'}], 'name': 'default rule', 'handlers': [{'name': 'djmessenger.handling.UserProfileHandler'}, {'name': 'djmessenger.handling.SaveMessagingHandler'}]}, {'type': 'STICKER', 'filters': [{'name': 'djmessenger.filtering.ThumbUpFilter'}], 'repliers': [{'args': {'localized_string': {'translations': {'zh_TW': '謝謝您的讚'}, 'base_string': 'Thank you for your thumb!!!'}}, 'name': 'djmessenger.replying.SimpleMessageReplier'}, {'args': {'url': 'https://dl.dropboxusercontent.com/u/717667/icons/betatesting.png'}, 'name': 'djmessenger.replying.ImageReplier'}], 'name': 'ThumbUp Rule', 'handlers': [{'name': 'djmessenger.handling.ThumbUpHandler'}]}, {'type': 'SIMPLE_TEXT', 'filters': [{'args': {'regex': '^你好$'}, 'name': 'djmessenger.filtering.SimpleTextRegexFilter'}], 'repliers': [{'args': {'localized_string': {'translations': {'en_US': 'Hello to you, too!'}, 'base_string': '您也好'}}, 'name': 'djmessenger.replying.SimpleMessageReplier'}], 'name': 'Hello Chinese Rule'}, {'type': 'SIMPLE_TEXT', 'filters': [{'args': {'regex': '^hi$'}, 'name': 'djmessenger.filtering.SimpleTextRegexFilter'}], 'repliers': [{'args': {'localized_string': {'translations': {'zh_TW': '您也好'}, 'base_string': 'Hi you, too!'}}, 'name': 'djmessenger.replying.SimpleMessageReplier'}], 'name': 'Hi Rule'}, {'type': 'SIMPLE_TEXT', 'filters': [{'args': {'regex': '^buttons$'}, 'name': 'djmessenger.filtering.SimpleTextRegexFilter'}], 'repliers': [{'args': {'localized_string': {'translations': {'zh_TW': '請選擇一個按鈕'}, 'base_string': 'Please choose a button'}}, 'name': 'testapp.sending.MyButtonSender'}], 'name': 'buttons Rule'}, {'type': 'LOCATION', 'filters': [{'name': 'djmessenger.filtering.LocationFilter'}], 'name': 'Location Rule', 'handlers': [{'name': 'djmessenger.handling.LocationHandler'}]}, {'type': 'PERSISTENT_MENU_ONE', 'repliers': [{'args': {'localized_string': {'translations': {'zh_TW': '這是幫助訊息'}, 'base_string': 'This is help info'}}, 'name': 'djmessenger.replying.SimpleMessageReplier'}, {'args': {'localized_string': {'translations': {'zh_TW': '請選擇快速回覆'}, 'base_string': 'Please choose a QR'}}, 'name': 'testapp.sending.MyQuickReplySender'}], 'name': 'PM1 Rule'}, {'type': 'QUICK_REPLY', 'repliers': [{'args': {'localized_string': {'translations': {'zh_TW': '謝謝您的快速回覆'}, 'base_string': 'Thanks for the quick reply'}}, 'name': 'djmessenger.replying.SimpleMessageReplier'}], 'name': 'QR1 Rule', 'handlers': [{'name': 'testapp.handling.MyQuickReplyHandler'}]}]}</em><a class="headerlink" href="#djmessenger.settings.DJM_ROUTING_POLICY" title="Permalink to this definition">¶</a></dt>
<dd><p>DJM_ROUTING_POLICY defines the lifecycle of a message being received, handling
it and lastly send some response back. In the following format, each router
represents a type of message received, handlers represent which handlers should
be used to handle this type of message and lastly which senders should be used
to send the response back.</p>
<p>See <a class="reference internal" href="djmessenger.utils.html#module-djmessenger.utils.default_routing_policy" title="djmessenger.utils.default_routing_policy"><code class="xref py py-mod docutils literal"><span class="pre">djmessenger.utils.default_routing_policy</span></code></a> for more details</p>
</dd></dl>

<dl class="data">
<dt id="djmessenger.settings.DJM_SAVE_USER_PROFILE">
<code class="descclassname">djmessenger.settings.</code><code class="descname">DJM_SAVE_USER_PROFILE</code><em class="property"> = True</em><a class="headerlink" href="#djmessenger.settings.DJM_SAVE_USER_PROFILE" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether DJM should automatically fetch and save user profile for any user that
sends message to the page and observed by BOT, default to True</p>
</dd></dl>

<dl class="data">
<dt id="djmessenger.settings.DJM_THREAD_ENABLE_AUTO_CONFIG">
<code class="descclassname">djmessenger.settings.</code><code class="descname">DJM_THREAD_ENABLE_AUTO_CONFIG</code><em class="property"> = False</em><a class="headerlink" href="#djmessenger.settings.DJM_THREAD_ENABLE_AUTO_CONFIG" title="Permalink to this definition">¶</a></dt>
<dd><p>If set to True, djmessenger will send POST request to configure thread
automatically. If set to False, you need to configure it by using management
commands</p>
</dd></dl>

<dl class="data">
<dt id="djmessenger.settings.DJM_THREAD_ENABLE_GET_STARTED_BUTTON">
<code class="descclassname">djmessenger.settings.</code><code class="descname">DJM_THREAD_ENABLE_GET_STARTED_BUTTON</code><em class="property"> = True</em><a class="headerlink" href="#djmessenger.settings.DJM_THREAD_ENABLE_GET_STARTED_BUTTON" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://developers.facebook.com/docs/messenger-platform/thread-settings/get-started-button">https://developers.facebook.com/docs/messenger-platform/thread-settings/get-started-button</a>
Whether to enable get started button feature</p>
</dd></dl>

<dl class="data">
<dt id="djmessenger.settings.DJM_THREAD_GREETINGS_TEXT">
<code class="descclassname">djmessenger.settings.</code><code class="descname">DJM_THREAD_GREETINGS_TEXT</code><em class="property"> = &lt;django.utils.functional.lazy.&lt;locals&gt;.__proxy__ object&gt;</em><a class="headerlink" href="#djmessenger.settings.DJM_THREAD_GREETINGS_TEXT" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://developers.facebook.com/docs/messenger-platform/thread-settings/greeting-text">https://developers.facebook.com/docs/messenger-platform/thread-settings/greeting-text</a></p>
<ol class="arabic simple">
<li>length must be &lt;= 160</li>
<li>only first time visitor sees this greeting text</li>
</ol>
</dd></dl>

</div>
<div class="section" id="module-djmessenger.urls">
<span id="djmessenger-urls-module"></span><h2>djmessenger.urls module<a class="headerlink" href="#module-djmessenger.urls" title="Permalink to this headline">¶</a></h2>
<p>djmessenger URL Configuration</p>
<dl class="docutils">
<dt>The <cite>urlpatterns</cite> list routes URLs to views. For more information please see:</dt>
<dd><a class="reference external" href="https://docs.djangoproject.com/en/1.9/topics/http/urls/">https://docs.djangoproject.com/en/1.9/topics/http/urls/</a></dd>
</dl>
<p>Examples:
Function views</p>
<blockquote>
<div><ol class="arabic simple">
<li>Add an import:  from my_app import views</li>
<li>Add a URL to urlpatterns:  url(r&#8217;^$&#8217;, views.home, name=&#8217;home&#8217;)</li>
</ol>
</div></blockquote>
<dl class="docutils">
<dt>Class-based views</dt>
<dd><ol class="first last arabic simple">
<li>Add an import:  from other_app.views import Home</li>
<li>Add a URL to urlpatterns:  url(r&#8217;^$&#8217;, Home.as_view(), name=&#8217;home&#8217;)</li>
</ol>
</dd>
<dt>Including another URLconf</dt>
<dd><ol class="first last arabic simple">
<li>Import the include() function: from django.conf.urls import url, include</li>
<li>Add a URL to urlpatterns:  url(r&#8217;^blog/&#8217;, include(&#8216;blog.urls&#8217;))</li>
</ol>
</dd>
</dl>
</div>
<div class="section" id="module-djmessenger.views">
<span id="djmessenger-views-module"></span><h2>djmessenger.views module<a class="headerlink" href="#module-djmessenger.views" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="djmessenger.views.DJMBotView">
<em class="property">class </em><code class="descclassname">djmessenger.views.</code><code class="descname">DJMBotView</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.views.DJMBotView" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.views.generic.base.View</span></code></p>
<dl class="method">
<dt id="djmessenger.views.DJMBotView.dispatch">
<code class="descname">dispatch</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.views.DJMBotView.dispatch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="djmessenger.views.DJMBotView.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.views.DJMBotView.get" title="Permalink to this definition">¶</a></dt>
<dd><p>This will be called when Facebook verifies the endpoint</p>
</dd></dl>

<dl class="method">
<dt id="djmessenger.views.DJMBotView.post">
<code class="descname">post</code><span class="sig-paren">(</span><em>request</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.views.DJMBotView.post" title="Permalink to this definition">¶</a></dt>
<dd><p>All Facebook callback will reach here</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-djmessenger">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-djmessenger" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="djmessenger.get_git_changeset">
<code class="descclassname">djmessenger.</code><code class="descname">get_git_changeset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.get_git_changeset" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a numeric identifier of the latest git changeset.
The result is the UTC timestamp of the changeset in YYYYMMDDHHMMSS format.
This value isn&#8217;t guaranteed to be unique, but collisions are very unlikely,
so it&#8217;s sufficient for generating the development version numbers.
TODO: Check if we can rely on services like read-the-docs to pick this up.</p>
</dd></dl>

<dl class="function">
<dt id="djmessenger.get_version">
<code class="descclassname">djmessenger.</code><code class="descname">get_version</code><span class="sig-paren">(</span><em>version=None</em><span class="sig-paren">)</span><a class="headerlink" href="#djmessenger.get_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a PEP 386-compliant version number from VERSION.</p>
</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="djmessenger.management.html" class="btn btn-neutral float-right" title="djmessenger.management package" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Welcome to djmessenger’s documentation!" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Evan Chu.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>