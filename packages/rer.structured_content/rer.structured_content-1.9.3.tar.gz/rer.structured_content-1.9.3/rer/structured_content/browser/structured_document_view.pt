<html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="en"
      lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="rer.structured_content">

  <body>
  <metal:content-core fill-slot="content-core">
    <metal:content-core define-macro="content-core">
      <div tal:attributes="class python: 'right' in view.name and 'rer-contextual-text rer-contextual-text-right' or 'rer-contextual-text'"
           tal:define="text context/getText|nothing"
           tal:condition="text">
        <div tal:replace="structure text">
            Body text
        </div>
      </div>
      <div tal:attributes="class python: 'right' in view.name and 'rer-contextual-portlets rer-contextual-portlets-right' or 'rer-contextual-portlets'">
        <tal:foldeeps define="foldeeps view/retrieveFolderDeepening"
                      condition="foldeeps">
          <tal:foldeep repeat="foldeep foldeeps">
            <dl class="portlet portletNavigationTree">
              <dt class="portletHeader">
                <span tal:content="foldeep/title">
                  header
                </span>
              </dt>
              <dd class="portletItem lastItem"
                  tal:define="folder_path foldeep/path">
                <ul class="navTree navTreeLevel0">
                  <tal:objs define="objs python: view.retrieveContentsOfFolderDeepening(folder_path)"
                            condition="objs">
                    <tal:obj repeat="obj objs">
                      <li class="navTreeItem visualNoMarker">
                        <img tal:replace="structure obj/icon" />
                        <a tal:attributes="href obj/url;">
                        <span tal:content="obj/title">body</span></a>
                        <span tal:condition="obj/contenttype|nothing"
                              tal:content="obj/contenttype">PDF document</span>
                        <span tal:condition="obj/filesize|nothing"
                              tal:content="string:(${obj/filesize})">1Mb</span>
                        <div class="description" tal:condition="obj/description" tal:content="obj/description">description</div>
                      </li>
                    </tal:obj>
                  </tal:objs>
                </ul>
              </dd>
            </dl>
          </tal:foldeep>
        </tal:foldeeps>
      </div>
    </metal:content-core>
  </metal:content-core>
  </body>
</html>
