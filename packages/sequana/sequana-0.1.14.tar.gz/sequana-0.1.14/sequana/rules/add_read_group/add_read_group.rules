rule add_read_group:
    input:
        bam = "sorted/" + config["output"] + ".bam"
    output: 
        rgbam = "add_read_group/" + config["output"] + ".bam"
    log:
        out = config["output"] + 
            "_logs/picard_tools/AddOrReplaceReadGroups/stdout.logs",
        err = config["output"] + 
            "_logs/picard_tools/AddOrReplaceReadGroups/stderr.logs"
    params:
        r = " ".join(['%s%s' % (key, value) for (key, value) in \
            config["add_read_group"].items()]),
    shell:
        """
        picard AddOrReplaceReadGroups I={input.bam} O={output.rgbam} \
        {params.r} > {log.out} 2> {log.err}
        """
