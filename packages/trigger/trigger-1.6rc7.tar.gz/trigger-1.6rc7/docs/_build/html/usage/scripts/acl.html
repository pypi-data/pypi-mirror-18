

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>acl - ACL database interface &mdash; Trigger 1.6.rc4 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Trigger 1.6.rc4 documentation" href="../../index.html"/>
        <link rel="up" title="Command-line Tools" href="../cli.html"/>
        <link rel="next" title="acl_script - Modify ACLs from the command-line" href="acl_script.html"/>
        <link rel="prev" title="Command-line Tools" href="../cli.html"/>
 
<style type="text/css">
    span.changelog-support {color: #4070A0;}
    span.changelog-bug {color: #A04040;}
    span.changelog-feature {color: #40A056;}
    a.changelog-release {font-weight: bold;}
</style>


  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Trigger
          

          
          </a>

          
            
            
              <div class="version">
                1.6.rc4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms.html">Supported Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration.html">Configuration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Usage Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../cli.html">Command-line Tools</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">acl - ACL database interface</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#about">About</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="acl_script.html">acl_script - Modify ACLs from the command-line</a></li>
<li class="toctree-l3"><a class="reference internal" href="aclconv.html">aclconv - ACL Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="check_access.html">check_access - ACL Access Checker</a></li>
<li class="toctree-l3"><a class="reference internal" href="gnng.html">gnng - Display interface information</a></li>
<li class="toctree-l3"><a class="reference internal" href="gong.html">gong - Device connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="netdev.html">netdev - CLI search for NetDevices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gorc.html">Determine commands to run upon login using <code class="docutils literal"><span class="pre">.gorc</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../netdevices.html">Working with NetDevices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tacacsrc.html">Managing Credentials with .tacacsrc</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../examples.html">Usage Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support.html">Getting Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../experimental.html">Experimental</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Trigger</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Usage Guide</a> &raquo;</li>
      
          <li><a href="../cli.html">Command-line Tools</a> &raquo;</li>
      
    <li>acl - ACL database interface</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/usage/scripts/acl.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="acl-acl-database-interface">
<h1>acl - ACL database interface<a class="headerlink" href="#acl-acl-database-interface" title="Permalink to this headline">¶</a></h1>
<div class="section" id="about">
<h2>About<a class="headerlink" href="#about" title="Permalink to this headline">¶</a></h2>
<p><strong>acl</strong> is used to interface with the access-control list (ACL) database and
task queue. This is a simple command to manage explicit ACL associations within
the ACL database (acls.db), to search for both implicit and explicit ACL
associations, and to manage the ACL task queue.</p>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>Here is the usage output:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>Usage:
    acl [--exact | --device-name-only] (&lt;acl_name&gt; | &lt;device&gt;)
    acl (--add | --remove) &lt;acl_name&gt; [&lt;device&gt; [&lt;device&gt; ...]]
    acl (--clear | --inject) [--quiet] [&lt;acl_name&gt; [&lt;acl_name&gt; ...]]
    acl (--list | --listmanual)
    acl --staged

Interface with the access-control list (ACL) database and task queue.  This is
a simple command to manage explicit ACL associations within the ACL database
(acls.db), to search for both implicit and explicit ACL associations, and to
manage the ACL task queue.

Options:
  --version             show program&#39;s version number and exit
  -h, --help            show this help message and exit
  -s, --staged          list currently staged ACLs
  -l, --list            list ACLs currently in integrated (automated) queue
  -m, --listmanual      list entries currently in manual queue
  -i, --inject          inject into load queue
  -c, --clear           clear from load queue
  -x, --exact           match entire name, not just start
  -d, --device-name-only
                        don&#39;t match on ACL
  -a &lt;acl_name&gt;, --add=&lt;acl_name&gt;
                        add an acl to explicit ACL database, example: &#39;acl -a
                        acl-name device1 device2&#39;
  -r &lt;acl_name&gt;, --remove=&lt;acl_name&gt;
                        remove an acl from explicit ACL database, example:
                        &#39;acl -r acl1-name -r acl2-name device&#39;
  -q, --quiet           be quiet! (For use with scripts/cron)
</pre></div>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="managing-acl-associations">
<h3>Managing ACL associations<a class="headerlink" href="#managing-acl-associations" title="Permalink to this headline">¶</a></h3>
<div class="section" id="adding-an-acl-association">
<h4>Adding an ACL association<a class="headerlink" href="#adding-an-acl-association" title="Permalink to this headline">¶</a></h4>
<p>When adding an association, you must provide the full ACL name. You may,
however, use the short name of any devices to which you&#8217;d like to associate
that ACL:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">acl</span> <span class="o">-</span><span class="n">a</span> <span class="n">jathan</span><span class="o">-</span><span class="n">special</span> <span class="n">test1</span><span class="o">-</span><span class="n">abc</span> <span class="n">test2</span><span class="o">-</span><span class="n">abc</span>
<span class="n">added</span> <span class="n">acl</span> <span class="n">jathan</span><span class="o">-</span><span class="n">special</span> <span class="n">to</span> <span class="n">test1</span><span class="o">-</span><span class="n">abc</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">aol</span><span class="o">.</span><span class="n">com</span>
<span class="n">added</span> <span class="n">acl</span> <span class="n">jathan</span><span class="o">-</span><span class="n">special</span> <span class="n">to</span> <span class="n">test2</span><span class="o">-</span><span class="n">abc</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">aol</span><span class="o">.</span><span class="n">com</span>
</pre></div>
</div>
<p>If you try to add an association for a device that does not exist, it will complain:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">acl</span> <span class="o">-</span><span class="n">a</span> <span class="n">foo</span> <span class="n">godzilla</span><span class="o">-</span><span class="n">router</span>
<span class="n">skipping</span> <span class="n">godzilla</span><span class="o">-</span><span class="n">router</span><span class="p">:</span> <span class="n">invalid</span> <span class="n">device</span>

<span class="n">Please</span> <span class="n">use</span> <span class="o">--</span><span class="n">help</span> <span class="n">to</span> <span class="n">find</span> <span class="n">the</span> <span class="n">right</span> <span class="n">syntax</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="removing-an-acl-association">
<h4>Removing an ACL association<a class="headerlink" href="#removing-an-acl-association" title="Permalink to this headline">¶</a></h4>
<p>Removing associations are subject to the same restrictions as additions, however in this example we&#8217;ve referenced the devices by FQDN:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">acl</span> <span class="o">-</span><span class="n">r</span> <span class="n">jathan</span><span class="o">-</span><span class="n">special</span> <span class="n">test1</span><span class="o">-</span><span class="n">abc</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">aol</span><span class="o">.</span><span class="n">com</span> <span class="n">test2</span><span class="o">-</span><span class="n">abc</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">aol</span><span class="o">.</span><span class="n">com</span>
<span class="n">removed</span> <span class="n">acl</span> <span class="n">jathan</span><span class="o">-</span><span class="n">special</span> <span class="kn">from</span> <span class="nn">test1</span><span class="o">-</span><span class="n">abc</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">aol</span><span class="o">.</span><span class="n">com</span>
<span class="n">removed</span> <span class="n">acl</span> <span class="n">jathan</span><span class="o">-</span><span class="n">special</span> <span class="kn">from</span> <span class="nn">test2</span><span class="o">-</span><span class="n">abc</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">aol</span><span class="o">.</span><span class="n">com</span>
</pre></div>
</div>
<p>Confirm the removal and observe that it returns nothing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">acl</span> <span class="n">jathan</span><span class="o">-</span><span class="n">special</span>
<span class="o">%</span>
</pre></div>
</div>
<p>If you try to remove an ACL that is not associated, it will complain:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">acl</span> <span class="o">-</span><span class="n">r</span> <span class="n">foo</span> <span class="n">test1</span><span class="o">-</span><span class="n">abc</span>
<span class="n">test1</span><span class="o">-</span><span class="n">abc</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">aol</span><span class="o">.</span><span class="n">com</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">have</span> <span class="n">acl</span> <span class="n">foo</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="searching-for-an-acl-or-device">
<h3>Searching for an ACL or device<a class="headerlink" href="#searching-for-an-acl-or-device" title="Permalink to this headline">¶</a></h3>
<p>You may search by full or partial names of ACLs or devices. When you search for
results, ACLs are checked first. If there are no matches then device names are
checked second. In either case, the pattern must match the beginning of the name
of the ACL or device.</p>
<p>You may search for the exact name of the ACL we just added:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">acl</span> <span class="n">jathan</span><span class="o">-</span><span class="n">special</span>
<span class="n">test1</span><span class="o">-</span><span class="n">abc</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">aol</span><span class="o">.</span><span class="n">com</span>                   <span class="n">jathan</span><span class="o">-</span><span class="n">special</span>
<span class="n">test2</span><span class="o">-</span><span class="n">abc</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">aol</span><span class="o">.</span><span class="n">com</span>                   <span class="n">jathan</span><span class="o">-</span><span class="n">special</span>
</pre></div>
</div>
<p>A partial ACL name will get you the same results in this case:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">acl</span> <span class="n">jathan</span>
<span class="n">test1</span><span class="o">-</span><span class="n">abc</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">aol</span><span class="o">.</span><span class="n">com</span>                   <span class="n">jathan</span><span class="o">-</span><span class="n">special</span>
<span class="n">test2</span><span class="o">-</span><span class="n">abc</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">aol</span><span class="o">.</span><span class="n">com</span>                   <span class="n">jathan</span><span class="o">-</span><span class="n">special</span>
</pre></div>
</div>
<p>A partial name will return all matching objects with  names starting with the pattern. Because there are no ACLs starting with <code class="docutils literal"><span class="pre">'test1'</span></code> matching devices are returned instead:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">acl</span> <span class="n">test1</span>
<span class="n">test1</span><span class="o">-</span><span class="n">abc</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">aol</span><span class="o">.</span><span class="n">com</span>                   <span class="n">jathan</span><span class="o">-</span><span class="n">special</span> <span class="n">abc123</span> <span class="n">xyz246</span>
<span class="n">test1</span><span class="o">-</span><span class="n">def</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">aol</span><span class="o">.</span><span class="n">com</span>                   <span class="mi">8</span> <span class="mi">9</span> <span class="mi">10</span>
<span class="n">test1</span><span class="o">-</span><span class="n">xyz</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">aol</span><span class="o">.</span><span class="n">com</span>                   <span class="mi">8</span> <span class="mi">9</span> <span class="mi">10</span>
</pre></div>
</div>
<p>If you want to search for an exact ACL match, use the <code class="docutils literal"><span class="pre">-x</span></code> flag:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">acl</span> <span class="o">-</span><span class="n">x</span> <span class="n">jathan</span>
<span class="n">No</span> <span class="n">results</span> <span class="k">for</span> <span class="p">[</span><span class="s1">&#39;jathan&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Or if you want to match devices names only, use the <code class="docutils literal"><span class="pre">-d</span></code> flag:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">acl</span> <span class="o">-</span><span class="n">d</span> <span class="n">jathan</span><span class="o">-</span><span class="n">special</span>
<span class="n">No</span> <span class="n">results</span> <span class="k">for</span> <span class="p">[</span><span class="s1">&#39;jathan-special&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="working-with-the-load-queue">
<h3>Working with the load queue<a class="headerlink" href="#working-with-the-load-queue" title="Permalink to this headline">¶</a></h3>
<p>Not finished yet...</p>
<div class="section" id="integrated-queue">
<h4>Integrated queue<a class="headerlink" href="#integrated-queue" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="manual-queue">
<h4>Manual queue<a class="headerlink" href="#manual-queue" title="Permalink to this headline">¶</a></h4>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="acl_script.html" class="btn btn-neutral float-right" title="acl_script - Modify ACLs from the command-line" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../cli.html" class="btn btn-neutral" title="Command-line Tools" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2006-2016, AOL Inc.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.6.rc4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>