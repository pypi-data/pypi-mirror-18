

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>acl_script - Modify ACLs from the command-line &mdash; Trigger 1.6.rc4 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Trigger 1.6.rc4 documentation" href="../../index.html"/>
        <link rel="up" title="Command-line Tools" href="../cli.html"/>
        <link rel="next" title="aclconv - ACL Converter" href="aclconv.html"/>
        <link rel="prev" title="acl - ACL database interface" href="acl.html"/>
 
<style type="text/css">
    span.changelog-support {color: #4070A0;}
    span.changelog-bug {color: #A04040;}
    span.changelog-feature {color: #40A056;}
    a.changelog-release {font-weight: bold;}
</style>


  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Trigger
          

          
          </a>

          
            
            
              <div class="version">
                1.6.rc4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms.html">Supported Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration.html">Configuration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Usage Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../cli.html">Command-line Tools</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="acl.html">acl - ACL database interface</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">acl_script - Modify ACLs from the command-line</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#about">About</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="aclconv.html">aclconv - ACL Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="check_access.html">check_access - ACL Access Checker</a></li>
<li class="toctree-l3"><a class="reference internal" href="gnng.html">gnng - Display interface information</a></li>
<li class="toctree-l3"><a class="reference internal" href="gong.html">gong - Device connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="netdev.html">netdev - CLI search for NetDevices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gorc.html">Determine commands to run upon login using <code class="docutils literal"><span class="pre">.gorc</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../netdevices.html">Working with NetDevices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tacacsrc.html">Managing Credentials with .tacacsrc</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../examples.html">Usage Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support.html">Getting Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../experimental.html">Experimental</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Trigger</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Usage Guide</a> &raquo;</li>
      
          <li><a href="../cli.html">Command-line Tools</a> &raquo;</li>
      
    <li>acl_script - Modify ACLs from the command-line</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/usage/scripts/acl_script.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="acl-script-modify-acls-from-the-command-line">
<h1>acl_script - Modify ACLs from the command-line<a class="headerlink" href="#acl-script-modify-acls-from-the-command-line" title="Permalink to this headline">¶</a></h1>
<div class="section" id="about">
<h2>About<a class="headerlink" href="#about" title="Permalink to this headline">¶</a></h2>
<p><strong>acl_script</strong> is a tool and an API shipped that allows for the quick and easy
modifications of filters based on various criteria. This is used most in an
automated fashion, allowing for users to quickly and efficiently setup small
scripts to auto-generate various portions of an ACL.</p>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>Here is the usage output:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">acl_script</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span>

<span class="n">ACL</span> <span class="n">modify</span><span class="o">/</span><span class="n">generator</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">commandline</span><span class="o">.</span>
<span class="n">options</span><span class="p">:</span>
  <span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>
  <span class="o">-</span><span class="n">aACL</span><span class="p">,</span> <span class="o">--</span><span class="n">acl</span><span class="o">=</span><span class="n">ACL</span>      <span class="n">specify</span> <span class="n">the</span> <span class="n">acl</span> <span class="n">file</span>
  <span class="o">-</span><span class="n">n</span><span class="p">,</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">changes</span>      <span class="n">don</span><span class="s1">&#39;t make the changes</span>
  <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">mods</span>           <span class="n">show</span> <span class="n">modifications</span> <span class="n">being</span> <span class="n">made</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">simple</span> <span class="nb">format</span><span class="o">.</span>
  <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">worklog</span>          <span class="n">don</span><span class="s1">&#39;t make a worklog entry</span>
  <span class="o">-</span><span class="n">N</span><span class="p">,</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="nb">input</span>        <span class="n">require</span> <span class="n">no</span> <span class="nb">input</span> <span class="p">(</span><span class="n">good</span> <span class="k">for</span> <span class="n">scripts</span><span class="p">)</span>
  <span class="o">-</span><span class="n">sSOURCE_ADDRESS</span><span class="p">,</span> <span class="o">--</span><span class="n">source</span><span class="o">-</span><span class="n">address</span><span class="o">=</span><span class="n">SOURCE_ADDRESS</span>
                        <span class="n">define</span> <span class="n">a</span> <span class="n">source</span> <span class="n">address</span>
  <span class="o">-</span><span class="n">dDESTINATION_ADDRESS</span><span class="p">,</span> <span class="o">--</span><span class="n">destination</span><span class="o">-</span><span class="n">address</span><span class="o">=</span><span class="n">DESTINATION_ADDRESS</span>
                        <span class="n">define</span> <span class="n">a</span> <span class="n">destination</span> <span class="n">address</span>
  <span class="o">--</span><span class="n">destination</span><span class="o">-</span><span class="n">address</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">file</span><span class="o">=</span><span class="n">DESTINATION_ADDRESS_FROM_FILE</span>
                        <span class="n">read</span> <span class="n">a</span> <span class="nb">set</span> <span class="n">of</span> <span class="n">destination</span><span class="o">-</span><span class="n">addresses</span> <span class="kn">from</span> <span class="nn">a</span> <span class="n">file</span>
  <span class="o">--</span><span class="n">source</span><span class="o">-</span><span class="n">address</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">file</span><span class="o">=</span><span class="n">SOURCE_ADDRESS_FROM_FILE</span>
                        <span class="n">read</span> <span class="n">a</span> <span class="nb">set</span> <span class="n">of</span> <span class="n">source</span><span class="o">-</span><span class="n">addresses</span> <span class="kn">from</span> <span class="nn">a</span> <span class="n">file</span>
  <span class="o">--</span><span class="n">protocol</span><span class="o">=</span><span class="n">PROTOCOL</span>   <span class="n">define</span> <span class="n">a</span> <span class="n">protocol</span>
  <span class="o">-</span><span class="n">pSOURCE_PORT</span><span class="p">,</span> <span class="o">--</span><span class="n">source</span><span class="o">-</span><span class="n">port</span><span class="o">=</span><span class="n">SOURCE_PORT</span>
                        <span class="n">define</span> <span class="n">a</span> <span class="n">source</span><span class="o">-</span><span class="n">port</span>
  <span class="o">--</span><span class="n">source</span><span class="o">-</span><span class="n">port</span><span class="o">-</span><span class="nb">range</span><span class="o">=</span><span class="n">SOURCE_PORT_RANGE</span>
                        <span class="n">define</span> <span class="n">a</span> <span class="n">source</span><span class="o">-</span><span class="n">port</span> <span class="nb">range</span>
  <span class="o">--</span><span class="n">destination</span><span class="o">-</span><span class="n">port</span><span class="o">-</span><span class="nb">range</span><span class="o">=</span><span class="n">DESTINATION_PORT_RANGE</span>
                        <span class="n">define</span> <span class="n">a</span> <span class="n">destination</span><span class="o">-</span><span class="n">port</span> <span class="nb">range</span>
  <span class="o">-</span><span class="n">PDESTINATION_PORT</span><span class="p">,</span> <span class="o">--</span><span class="n">destination</span><span class="o">-</span><span class="n">port</span><span class="o">=</span><span class="n">DESTINATION_PORT</span>
                        <span class="n">define</span> <span class="n">a</span> <span class="n">destination</span> <span class="n">port</span>
  <span class="o">-</span><span class="n">tMODIFY_SPECIFIC_TERM</span><span class="p">,</span> <span class="o">--</span><span class="n">modify</span><span class="o">-</span><span class="n">specific</span><span class="o">-</span><span class="n">term</span><span class="o">=</span><span class="n">MODIFY_SPECIFIC_TERM</span>
                        <span class="n">When</span> <span class="n">modifying</span> <span class="n">a</span> <span class="n">JUNOS</span> <span class="nb">type</span> <span class="n">ACL</span><span class="p">,</span> <span class="n">you</span> <span class="n">may</span> <span class="n">specify</span> <span class="n">this</span>
                        <span class="n">option</span> <span class="n">one</span> <span class="ow">or</span> <span class="n">more</span> <span class="n">times</span> <span class="n">to</span> <span class="n">define</span> <span class="n">a</span> <span class="n">specific</span> <span class="n">JUNOS</span>
                        <span class="n">term</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">modify</span><span class="o">.</span> <span class="n">This</span> <span class="n">takes</span> <span class="n">one</span> <span class="n">argument</span> <span class="n">which</span>
                        <span class="n">should</span> <span class="n">be</span> <span class="n">the</span> <span class="n">name</span> <span class="n">of</span> <span class="n">term</span><span class="o">.</span>
  <span class="o">-</span><span class="n">cMODIFY_BETWEEN_COMMENTS</span><span class="p">,</span> <span class="o">--</span><span class="n">modify</span><span class="o">-</span><span class="n">between</span><span class="o">-</span><span class="n">comments</span><span class="o">=</span><span class="n">MODIFY_BETWEEN_COMMENTS</span>
                        <span class="n">When</span> <span class="n">modifying</span> <span class="n">a</span> <span class="n">IOS</span> <span class="nb">type</span> <span class="n">ACL</span><span class="p">,</span> <span class="n">you</span> <span class="n">may</span> <span class="n">specify</span> <span class="n">this</span>
                        <span class="n">option</span> <span class="n">one</span> <span class="ow">or</span> <span class="n">more</span> <span class="n">times</span> <span class="n">to</span> <span class="n">define</span> <span class="n">a</span> <span class="n">specific</span> <span class="n">AREA</span> <span class="n">of</span>
                        <span class="n">the</span> <span class="n">ACL</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">modify</span><span class="o">.</span> <span class="n">You</span> <span class="n">must</span> <span class="n">have</span> <span class="n">at</span> <span class="n">least</span> <span class="mi">2</span>
                        <span class="n">comments</span> <span class="n">defined</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">ACL</span> <span class="n">prior</span> <span class="n">to</span> <span class="n">running</span><span class="o">.</span> <span class="n">This</span>
                        <span class="n">requires</span> <span class="n">two</span> <span class="n">arguments</span><span class="p">,</span> <span class="n">the</span> <span class="n">start</span> <span class="n">comment</span><span class="p">,</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">end</span>
                        <span class="n">comment</span><span class="o">.</span> <span class="n">Your</span> <span class="n">modifications</span> <span class="n">will</span> <span class="n">be</span> <span class="n">done</span> <span class="n">between</span> <span class="n">the</span>
                        <span class="n">two</span><span class="o">.</span>
  <span class="o">--</span><span class="n">insert</span><span class="o">-</span><span class="n">defined</span>      <span class="n">This</span> <span class="n">option</span> <span class="n">works</span> <span class="n">differently</span> <span class="n">based</span> <span class="n">on</span> <span class="n">the</span> <span class="nb">type</span> <span class="n">of</span> <span class="n">ACL</span>
                        <span class="n">we</span> <span class="n">are</span> <span class="n">modifying</span><span class="o">.</span> <span class="n">The</span> <span class="n">one</span> <span class="n">similar</span> <span class="n">characteristic</span> <span class="ow">is</span>
                        <span class="n">that</span> <span class="n">this</span> <span class="n">will</span> <span class="n">never</span> <span class="n">remove</span> <span class="nb">any</span> <span class="n">access</span> <span class="n">already</span> <span class="n">defined</span><span class="p">,</span>
                        <span class="n">just</span> <span class="n">append</span><span class="o">.</span>
  <span class="o">--</span><span class="n">replace</span><span class="o">-</span><span class="n">defined</span>     <span class="n">This</span> <span class="n">option</span> <span class="n">works</span> <span class="n">differently</span> <span class="n">based</span> <span class="n">on</span> <span class="n">the</span> <span class="nb">type</span> <span class="n">of</span> <span class="n">ACL</span>
                        <span class="n">we</span> <span class="n">are</span> <span class="n">modifying</span><span class="o">.</span> <span class="n">The</span> <span class="n">one</span> <span class="n">similar</span> <span class="n">characteristic</span> <span class="ow">is</span>
                        <span class="n">that</span> <span class="n">access</span> <span class="n">can</span> <span class="n">be</span> <span class="n">removed</span><span class="p">,</span> <span class="n">since</span> <span class="n">this</span> <span class="n">replaces</span> <span class="n">whole</span>
                        <span class="n">sets</span> <span class="n">of</span> <span class="n">defined</span> <span class="n">data</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="understanding-insert-defined">
<h3>Understanding <code class="docutils literal"><span class="pre">--insert-defined</span></code><a class="headerlink" href="#understanding-insert-defined" title="Permalink to this headline">¶</a></h3>
<p>This flag will tell <code class="docutils literal"><span class="pre">acl_script</span></code> to append (read: never remove) information
to a portion of an ACL.</p>
<div class="section" id="junos">
<h4>Junos<a class="headerlink" href="#junos" title="Permalink to this headline">¶</a></h4>
<p>On a Junos-type ACL using <code class="docutils literal"><span class="pre">--insert-defined</span></code>, this will only replace parts of
the term that have been specified on the command-line. This may sound confusing
but this example should clear things up.</p>
<p>Take the following term:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">term</span> <span class="n">sr31337</span> <span class="p">{</span>
    <span class="kn">from</span> <span class="p">{</span>
        <span class="n">source</span><span class="o">-</span><span class="n">address</span> <span class="p">{</span>
            <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">8</span><span class="p">;</span>
            <span class="mf">11.0</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">8</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">destination</span><span class="o">-</span><span class="n">address</span> <span class="p">{</span>
            <span class="mf">192.168</span><span class="o">.</span><span class="mf">0.1</span><span class="o">/</span><span class="mi">32</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">destination</span><span class="o">-</span><span class="n">port</span> <span class="mi">80</span><span class="p">;</span>
        <span class="n">protocol</span> <span class="n">tcp</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">then</span> <span class="p">{</span>
        <span class="n">accept</span><span class="p">;</span>
        <span class="n">count</span> <span class="n">sr31337</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If you run <code class="docutils literal"><span class="pre">acl_script</span></code> with the following arguments:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">acl_script</span> <span class="o">--</span><span class="n">modify</span><span class="o">-</span><span class="n">specific</span><span class="o">-</span><span class="n">term</span> <span class="n">sr31337</span> <span class="o">--</span><span class="n">source</span><span class="o">-</span><span class="n">address</span> <span class="mf">5.5</span><span class="o">.</span><span class="mf">5.5</span><span class="o">/</span><span class="mi">32</span> <span class="o">--</span><span class="n">destination</span><span class="o">-</span><span class="n">port</span> <span class="mi">81</span> <span class="o">--</span><span class="n">insert</span><span class="o">-</span><span class="n">defined</span>
</pre></div>
</div>
<p>The following is generated:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">term</span> <span class="n">sr31337</span> <span class="p">{</span>
    <span class="kn">from</span> <span class="p">{</span>
        <span class="n">source</span><span class="o">-</span><span class="n">address</span> <span class="p">{</span>
            <span class="mf">5.5</span><span class="o">.</span><span class="mf">5.5</span><span class="o">/</span><span class="mi">32</span><span class="p">;</span>
            <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">8</span><span class="p">;</span>
            <span class="mf">11.0</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">8</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">destination</span><span class="o">-</span><span class="n">address</span> <span class="p">{</span>
            <span class="mf">192.168</span><span class="o">.</span><span class="mf">0.1</span><span class="o">/</span><span class="mi">32</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">destination</span><span class="o">-</span><span class="n">port</span> <span class="mi">80</span><span class="o">-</span><span class="mi">81</span><span class="p">;</span>
        <span class="n">protocol</span> <span class="n">tcp</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">then</span> <span class="p">{</span>
        <span class="n">accept</span><span class="p">;</span>
        <span class="n">count</span> <span class="n">sr31337</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As you can see <code class="docutils literal"><span class="pre">5.5.5.5/32</span></code> was added to the <code class="docutils literal"><span class="pre">source-address</span></code> portion, and
<code class="docutils literal"><span class="pre">81</span></code> was added as a <code class="docutils literal"><span class="pre">destination-port</span></code>. Notice that all other fields were
left alone.</p>
</div>
<div class="section" id="ios-like">
<h4>IOS-like<a class="headerlink" href="#ios-like" title="Permalink to this headline">¶</a></h4>
<p>On IOS-like ACLs <code class="docutils literal"><span class="pre">--insert-defined</span></code> behaves a little bit differently. In this
case the <code class="docutils literal"><span class="pre">acl_script</span></code> will only add access where it is needed.</p>
<p>Take the following example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>!!! I AM L33T
access-list 101 permit udp host 192.168.0.1 host 192.168.1.1 eq 80
access-list 101 permit ip host 192.168.0.5 host 192.168.1.10
access-list 101 permit tcp host 192.168.0.6 host 192.168.1.11 eq 22
!!! I AM NOT L33T
</pre></div>
</div>
<p>If you run <code class="docutils literal"><span class="pre">acl_script</span></code> with the following arguments:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">acl_script</span> <span class="o">--</span><span class="n">modify</span><span class="o">-</span><span class="n">between</span><span class="o">-</span><span class="n">comments</span> <span class="s2">&quot;I AM L33T&quot;</span> <span class="s2">&quot;I AM NOT L33T&quot;</span> \
  <span class="o">--</span><span class="n">source</span><span class="o">-</span><span class="n">address</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">0.5</span> \
  <span class="o">--</span><span class="n">destination</span><span class="o">-</span><span class="n">address</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.10</span> \
  <span class="o">--</span><span class="n">destination</span><span class="o">-</span><span class="n">address</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.11</span> \
  <span class="o">--</span><span class="n">protocol</span> <span class="n">tcp</span> \
  <span class="o">--</span><span class="n">destination</span><span class="o">-</span><span class="n">port</span> <span class="mi">80</span> \
  <span class="o">--</span><span class="n">insert</span><span class="o">-</span><span class="n">defined</span>
</pre></div>
</div>
<p>This output is generated:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>!!! I AM L33T
access-list 101 permit udp host 192.168.0.1 host 192.168.1.1 eq 80
access-list 101 permit ip host 192.168.0.5 host 192.168.1.10
access-list 101 permit tcp host 192.168.0.6 host 192.168.1.11 eq 22
access-list 101 permit tcp host 192.168.0.5 host 192.168.1.11 eq 80
!!! I AM NOT L33T
</pre></div>
</div>
<p>As you can see the last line was added, take note that the
<code class="docutils literal"><span class="pre">192.168.0.5-&gt;192.168.1.10:80</span></code> access was not added because it was already
permitted previously.</p>
</div>
</div>
<div class="section" id="understanding-replace-defined">
<h3>Understanding <code class="docutils literal"><span class="pre">--replace-defined</span></code><a class="headerlink" href="#understanding-replace-defined" title="Permalink to this headline">¶</a></h3>
<p>This flag will completely replace portions of an ACL with newly-defined information.</p>
<div class="section" id="id1">
<h4>Junos<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>Take the following term:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">term</span> <span class="n">sr31337</span> <span class="p">{</span>
    <span class="kn">from</span> <span class="p">{</span>
        <span class="n">source</span><span class="o">-</span><span class="n">address</span> <span class="p">{</span>
            <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">8</span><span class="p">;</span>
            <span class="mf">11.0</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">8</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">destination</span><span class="o">-</span><span class="n">address</span> <span class="p">{</span>
            <span class="mf">192.168</span><span class="o">.</span><span class="mf">0.1</span><span class="o">/</span><span class="mi">32</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">destination</span><span class="o">-</span><span class="n">port</span> <span class="mi">80</span><span class="p">;</span>
        <span class="n">protocol</span> <span class="n">tcp</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">then</span> <span class="p">{</span>
        <span class="n">accept</span><span class="p">;</span>
        <span class="n">count</span> <span class="n">sr31337</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>With the following arguments to <code class="docutils literal"><span class="pre">acl_script</span></code>::</dt>
<dd>acl_script &#8211;modify-specific-term sr31337 &#8211;source-address 5.5.5.5 &#8211;replace-defined</dd>
</dl>
<p>The following is generated:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">term</span> <span class="n">sr31337</span> <span class="p">{</span>
    <span class="kn">from</span> <span class="p">{</span>
        <span class="n">source</span><span class="o">-</span><span class="n">address</span> <span class="p">{</span>
            <span class="mf">5.5</span><span class="o">.</span><span class="mf">5.5</span><span class="o">/</span><span class="mi">32</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">destination</span><span class="o">-</span><span class="n">address</span> <span class="p">{</span>
            <span class="mf">192.168</span><span class="o">.</span><span class="mf">0.1</span><span class="o">/</span><span class="mi">32</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">destination</span><span class="o">-</span><span class="n">port</span> <span class="mi">80</span><span class="p">;</span>
        <span class="n">protocol</span> <span class="n">tcp</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">then</span> <span class="p">{</span>
        <span class="n">accept</span><span class="p">;</span>
        <span class="n">count</span> <span class="n">sr31337</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h4>IOS-like<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<p>More on this later!</p>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="aclconv.html" class="btn btn-neutral float-right" title="aclconv - ACL Converter" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="acl.html" class="btn btn-neutral" title="acl - ACL database interface" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2006-2016, AOL Inc.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.6.rc4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>