<!DOCTYPE HTML>
<html>
   <head>
      <link rel="stylesheet" href="/static/style.css">
      <link rel="stylesheet" href="/static/bootstrap.min.css">
      <link rel="stylesheet" href="/static/checkboxes.css">
      <script type="text/javascript" src="https://yastatic.net/jquery/3.1.0/jquery.min.js"></script>
      <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

      <script type="text/javascript">
         function WizardWebSocket()
         {
            $("#message").text = ''
            if ("WebSocket" in window)
            {
               var ws = new WebSocket("ws://localhost:9998/wizard");

               ws.onopen = function()
               {
                  $("#message").append('Opened new connection to wizard...<br>');
                  // Web Socket is connected, send data using send()
                  duration = document.getElementById("duration").value;
                  ws.send(duration);
               };
               ws.onmessage = function (evt) {
                  var received_msg = evt.data;
                  $("#message").append('<li>'+received_msg+'</li>');
               };

               ws.onclose = function()
               { 
                  // websocket is closed.
                  $("#message").append('Connection to wizard closed...<br>');
               };
            }
            
            else
            {
               // The browser doesn't support WebSocket
               alert("WebSocket NOT supported by your Browser!");
            }
         }
      </script>
        
   </head>
   <body>
      <div class="container bgcont center-block">
         <div id="button" class="col-md-6">
            <label for="duration">Длительность теста</label>
           <input id="duration" name="duration" type="text" label="duration">
            <br>
           <button onclick="WizardWebSocket();" class="btn btn-primary btn-lg">Run Wizard</button>
         </div>
         <div id="message" class="col-md-6">
            <!-- output messages here -->
         </div>
      </div>
   </body>
</html>
