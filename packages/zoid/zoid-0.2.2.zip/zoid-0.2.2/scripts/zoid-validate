#!/usr/bin/env python
# -*- coding: utf-8 -*-

from __future__ import unicode_literals, print_function

if __name__ == '__main__':
    import sys
    import zoid

    LOG = zoid.LOG

    zoid.ARGPARSER.add_argument("branch", default="master", help="Name of the branch to validate. Default is 'master'")
    zoid.ARGPARSER.add_argument("-p", dest="password", default=None, required=False, help="Password for the branch i.e. 'iaccepttheconsequences'")

    zoid.init()

    branch = zoid.ARGS.branch
    password = zoid.ARGS.password

    #-- install and or update steamcmd
    retcode = zoid.Steam.ensure_steamcmd()
    if retcode != 0:
        sys.exit(retcode)

    zoid.Steam.validate_server_files(branch, password)
